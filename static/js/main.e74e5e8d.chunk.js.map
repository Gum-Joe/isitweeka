{"version":3,"sources":["utils/gAnalytics.ts","utils/scroll.ts","components/Button.Forward.tsx","components/EventRow.tsx","components/EventsList.tsx","utils/AlertInterfaces.ts","components/AlterBanner.tsx","components/MailingListBanner.tsx","components/Socials.tsx","utils/IsItWeekA.ts","components/SiteContainer.tsx","components/Tabs/TabRow.tsx","components/Tabs/Tab.tsx","components/Tabs/Container.tsx","utils/constants.tsx","data/events-mock.ts","components/Footer.tsx","data/alerts.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["GA_DISABLE_COOKIE_STR","gaSetState","state","document","cookie","window","getScrollDownWithAdditional","add","scrollTo","top","innerHeight","behavior","scrollUp","Button","props","buttonType","className","data-light","light","children","displayName","baseEventImageStyle","backgroundSize","backgroundRepeat","backgroundPosition","display","flex","margin","width","maxHeight","reportOutboundButtonClick","console","log","gtag","EventTypes","KECHBHouses","EventRow","this","event","eventType","CHARITY","style","backgroundColor","backgroundImage","headerURL","title","when","description","ticketsSale","url","Date","start","valueOf","now","href","onClick","cta","FUNDRIASER","color","textColour","target","type","HOUSE","dateTime","currentVictor","React","PureComponent","toISOString","ThreatLevels","EventsList","eventData","events","length","filter","theEvent","hidden","map","index","id","Component","getClassNameFromAlertLevel","level","LOW","INFO","MODERATE","SUBSTANTIAL","SEVERE","CRITICAL","AlertBanner","useState","dismissed","setDismissState","expanded","setExpandState","handleDismiss","reportAlertButtonClick","showExpandButtonMobile","alert","message","alertLevel","linkTo","linkText","undefined","preventDefault","icon","faTimes","height","BaseMailingListForm","isListForMobile","dimisser","action","method","name","value","htmlFor","required","placeholder","fontSize","MailingListContainer","mobileListIsOpen","setmobileListIsOpen","useEffect","setTimeout","innerWidth","scrolled","scrollY","body","position","parseInt","Socials","size","faInstagram","faTwitter","IsItWeekA","weekMarkerDate","calendarURL","inputDate","isWeekend","d","dhere","day","getDay","diff","getDate","setDate","goTo","forwardList","getUTCDay","getUTCDate","includes","setUTCDate","weekStart","forwardOrRewindToDay","setUTCHours","weekEnd","dayNow","debug","startTime","fetch","mode","credentials","baseResponse","text","ics","data","ical","Map","Object","entries","forEach","v","key","shouldDelete","Math","abs","delete","entry","summary","warn","week","SiteContainer","fetchNotifications","a","alertsFetcher","response","setState","apiHasRan","generatedAt","showAlert","getCalendar","fetchEvents","err","error","eventsFetcher","weekChecker","isItWeekAorB","theWeek","marginRight","marginTop","getStatus","TabRow","Tab","active","TabContainer","initialTab","activeTab","setTab","afterTabChange","tab","onTabChange","tabs","component","COOKIE_SCHOOL_PREFERENCE","KECHBEvents","KECHGEvents","Footer","getFullYear","version","faGithub","faEnvelope","faLink","faAt","KECHBAlerts","KECHGAlerts","App","Cookies","get","set","school","tabIndex","secure","sameSite","updateCookie","getJSON","Navbar","fixed","enableDeclineButton","flipButtons","buttonText","declineButtonText","onAccept","location","reload","onDecline","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e74e5e8d.chunk.js","sourcesContent":["// Set to the same value as the web property used on the site\nexport const GA_PROPERTY = \"G-X4VMSWGN74\";\n\n/** \n * Disable tracking if the opt-out cookie exists.\n * Also opts out of preferences\n */\nexport const GA_DISABLE_COOKIE_STR = \"ga-disable-\" + GA_PROPERTY;\n/*if (document.cookie.indexOf(disableStr + '=true') > -1) {\n\t// @ts-ignore\n\twindow[disableStr] = true;\n}*/\n\n// Opt-out function\n/** Use true to opt out */\nexport default function gaSetState(state: boolean): void {\n\tdocument.cookie = GA_DISABLE_COOKIE_STR + `=${state ? \"true\" : \"false\"}; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/`;\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore\n\twindow[GA_DISABLE_COOKIE_STR] = state;\n}","/**\n * Useful utils to scroll up and down the page\n * @packageDocumentation\n */\n\nexport function scrollDown(): void {\n\twindow.scrollTo({\n\t\ttop: window.innerHeight,\n\t\tbehavior: \"smooth\",\n\t});\n}\n\n/**\n * Get a scroll downer with some additional scorlling down\n * @param add number of extra pixels to scroll\n */\nexport function getScrollDownWithAdditional(add: number) {\n\treturn (): void => {\n\t\twindow.scrollTo({\n\t\t\ttop: window.innerHeight + add,\n\t\t\tbehavior: \"smooth\",\n\t\t});\n\t};\n\t\n}\n\nexport function scrollUp(): void {\n\twindow.scrollTo({\n\t\ttop: 0,\n\t\tbehavior: \"smooth\",\n\t});\n}","import React from \"react\";\n\ninterface ButtonProps {\n\tbuttonType?: \"fill\" | \"underline\";\n\tlight?: boolean;\n}\n\nconst Button = (props: React.ButtonHTMLAttributes<any> & ButtonProps) => {\n\tif (props?.buttonType === \"fill\") {\n\t\treturn (\n\t\t\t<button {...props} className=\"filled-button\" data-light={props.light}>\n\t\t\t\t<span>{props.children}</span>\n\t\t\t</button>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<button {...props} className=\"forward\" data-light={props.light}>\n\t\t\t\t<span>{props.children}</span>\n\t\t\t</button>\n\t\t);\n\t}\n\t\n};\n\nButton.displayName = \"Button.Forward\";\n\nexport default Button;","import React from \"react\";\nimport Button from \"./Button.Forward\";\nimport { EventItem, EventTypes } from \"./EventsList\";\n\nconst baseEventImageStyle = {\n\tbackgroundSize: \"contain\",\n\tbackgroundRepeat: \"no-repeat\",\n\tbackgroundPosition: \"center\",\n\tdisplay: \"flex\",\n\tflex: 1,\n\tmargin: \"auto\",\n\twidth: \"90%\",\n\tmaxHeight: \"80%\",\n};\n\ninterface RowProps {\n\tevent: EventItem;\n}\n\n/**\n * Reports to Google analytics when the \"Donate Now\" or \"Buy Tickets\" link was clicked so we can track conversions\n */\nfunction reportOutboundButtonClick() {\n\tconsole.log(\"Reporting button click...\");\n\tgtag(\"event\", \"outbound_events_button_click\", {\n\t\t\"event_category\": \"ecommerce\",\n\t\t\"value\": \"true\",\n\t\t\"label\": \"outbound_events_button_click\",\n\t});\n}\n\nexport default class EventRow extends React.PureComponent<RowProps, never> {\n\trender() {\n\t\tswitch (this.props.event.eventType) {\n\t\t\tcase EventTypes.CHARITY:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"events-row\" style={{ backgroundColor: this.props.event.backgroundColor }}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div style={{ backgroundImage: `url(${this.props.event.headerURL})`, ...baseEventImageStyle }}>\n\t\t\t\t\t\t\t\t{/*<h4>[IMAGE SET AS BACKGROUND OF THIS DIV]</h4>*/}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3>{this.props.event.title}</h3>\n\t\t\t\t\t\t\t{typeof this.props.event.when !== \"undefined\" ? <h4 className=\"no-margin\">When? {this.props.event.when}</h4> : null}\n\t\t\t\t\t\t\t{typeof this.props.event.description !== \"undefined\" ? <h4 className=\"no-margin\">{this.props.event.description}</h4> : null}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.props.event.ticketsSale && this.props.event.url &&\n\t\t\t\t\t\t\t\t\tnew Date(this.props.event.ticketsSale.start).valueOf() < Date.now() ?\n\t\t\t\t\t\t\t\t\t<a href={this.props.event.url}>\n\t\t\t\t\t\t\t\t\t\t<Button onClick={reportOutboundButtonClick} style={{ ...this.props.event.cta }}>Buy Tickets</Button>\n\t\t\t\t\t\t\t\t\t</a> : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.props.event.ticketsSale &&\n\t\t\t\t\t\t\t\t\tnew Date(this.props.event.ticketsSale.start).valueOf() > Date.now() ?\n\t\t\t\t\t\t\t\t\t<h4>Tickets on sale {this.props.event.ticketsSale.start}</h4> : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\n\t\t\tcase EventTypes.FUNDRIASER:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"events-row\" style={{ backgroundColor: this.props.event.backgroundColor, color: this.props.event.textColour || \"#fff\" }}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div style={{ backgroundImage: `url(${this.props.event.headerURL})`, ...baseEventImageStyle }}>\n\t\t\t\t\t\t\t\t{/*<h4>[IMAGE SET AS BACKGROUND OF THIS DIV]</h4>*/}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3>{this.props.event.title}</h3>\n\t\t\t\t\t\t\t{typeof this.props.event.description !== \"undefined\" ? <h4 className=\"no-margin\">{this.props.event.description}</h4> : null}\n\t\t\t\t\t\t\t<h4 className=\"no-margin\">Target: {this.props.event.target}</h4>\n\t\t\t\t\t\t\t<a target=\"__blanK\" href={this.props.event.url}>\n\t\t\t\t\t\t\t\t<Button onClick={reportOutboundButtonClick} buttonType={this.props.event.cta?.type || \"underline\"} style={{ ...this.props.event.cta }}>Donate Now</Button>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\n\t\t\tcase EventTypes.HOUSE:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"events-row\" style={{ backgroundColor: this.props.event.backgroundColor }}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div style={{ backgroundImage: `url(${this.props.event.headerURL})`, ...baseEventImageStyle }}>\n\t\t\t\t\t\t\t\t{/*<h4>[IMAGE SET AS BACKGROUND OF THIS DIV]</h4>*/}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3>{this.props.event.title}</h3>\n\t\t\t\t\t\t\t{typeof this.props.event.description !== \"undefined\" ? <h4 className=\"no-margin\">{this.props.event.description}</h4> : null}\n\t\t\t\t\t\t\t<h4 className=\"no-margin\">Date: {this.props.event.dateTime}</h4>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// Only show current victor if event is ongoing or done\n\t\t\t\t\t\t\t\tthis.props.event.state !== \"todo\" && typeof this.props.event.currentVictor !== \"undefined\" ?\n\t\t\t\t\t\t\t\t\t<h4 className=\"no-margin\">{this.props.event.state !== \"done\" ? \"Current \" : \"\"}Victor: {this.props.event.currentVictor}</h4>\n\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<h1>There&amp;s been an error - an invalid event type was provided. Please file an issue on GitHub (see footer).</h1>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t}\n\t}\n}","import React, { Component } from \"react\";\nimport { scrollUp, scrollDown } from \"../utils/scroll\";\nimport EventRow from \"./EventRow\";\n\n/**\n * Here's how it works:\n * - Current we just deploy a static JSON file with events and alerts in.\n * - These (and by extension the API) are currently described in terms of TS interfaces below.\n * \n * Essentially there's a base event type, which has an eventType field\n * which TS then uses to infer the extra props for different event types (fundraiser, charity event and house event)\n * that are shown as the interfaces below)\n * \n * @packageDocumentation\n */\n\n/**\n * Used to distinguish between the different type of event we can display.\n */\nexport enum EventTypes {\n\t/** house event */\n\tHOUSE = \"house\",\n\t/** charity event */\n\tCHARITY = \"charity\", \n\t/** charity fundraiser */\n\tFUNDRIASER = \"fundraiser\"\n} \n\nexport enum KECHBHouses {\n\tBeaufort = \"beaufort\",\n\tHoward = \"Howard\",\n\tSeymour = \"Seymour\",\n\tTudor = \"Tudor\"\n}\n\n/** Base event intergace - all events need to have these properties */\nexport interface BaseEventItem {\n\ttitle: string;\n\tdescription?: string;\n\theaderURL: string;\n\tbackgroundColor: string;\n\t// HACK: So that it won't complain about the JSON. Please remove eventually\n\teventType: EventTypes | string;\n\thidden?: boolean;\n\ttextColour?: string;\n\t/** BG Colour of call to action button */\n\tcta?: {\n\t\tcolor?: string;\n\t\tbackgroundColor?: string;\n\t\t/** underline: button has an underline. fill: button has a fill instead */\n\t\ttype: \"underline\" | \"fill\";\n\t},\n\t/* String representation of the date/time of event */\n\twhen?: string,\n}\n\n/**\n * Props specific to fundraisers.\n * For {@link EventTypes.FUNDRIASER}\n*/\nexport interface EventItemFundraiser extends BaseEventItem {\n\teventType: EventTypes.FUNDRIASER | \"fundraiser\";\n\turl: string;\n\ttarget: string;\n}\n\n/**\n * Props specific to charity events.\n * For {@link EventTypes.CHARITY}\n*/\nexport interface EventItemCharity extends BaseEventItem {\n\teventType: EventTypes.CHARITY | \"charity\";\n\t/* Omit URL for no ticket button */\n\turl?: string;\n\t\n\t// Can now also use for regular, non-ticket events\n\tticketsSale?: {\n\t\tstart: string;\n\t\tend?: string;\n\t};\n}\n\n/**\n * Props specific to house events.\n * For {@link EventTypes.HOUSE}\n*/\nexport interface EventItemHouse extends BaseEventItem {\n\teventType: EventTypes.HOUSE | \"house\";\n\t/** String time of event. Either a term (e.g. \"Autumn\"), date */\n\tdateTime: string;\n\tstate: \"todo\" | \"ongoing\" | \"done\";\n\tcurrentVictor?: string;\n}\n\n/*export interface EventItem {\n\ttitle: string;\n\t// HACK: So that it won't complain about the JSON. Please remove eventually\n\teventType: EventTypes | string;\n\turl: string;\n\tticketsSale?: {\n\t\tstart: string;\n\t\tend?: string;\n\t};\n\theaderURL: string;\n\tbackgroundColor: string;\n}*/\n\n/**\n * IMPORTANT: Merges the event types into one type.\n * \n * TS type inference then auto-picks the right type based on `eventType` field.\n */\nexport type EventItem = EventItemFundraiser | EventItemCharity | EventItemHouse;\n\n/**\n * Expected API response\n */\nexport interface EventData {\n\tevents: Array<EventItem>;\n\tgeneratedAt: string; // Timestamp\n}\n\n/**\n * @deprecated Use the JSON file in `data` insted.\n */\nexport const dummyResponse: EventData = {\n\tevents: [\n\t\t{\n\t\t\ttitle: \"Would I Lie To You?\",\n\t\t\tdescription: \"Would I Lie To You?\",\n\t\t\turl: \"https://www.eventbrite.co.uk/e/would-i-lie-to-you-students-vs-teachers-tickets-133890123965?aff=isitweeka\",\n\t\t\theaderURL: \"/Logo_Export_Trans_but_not_on_HRT.png\",\n\t\t\tbackgroundColor: \"#2C1F39\",\n\t\t\tticketsSale: {\n\t\t\t\tstart: \"1/1/2020\",\n\t\t\t},\n\t\t\teventType: \"charity\"\n\t\t}\n\t],\n\tgeneratedAt: new Date().toISOString(),\n};\n\n/**\n * Fetched events list that follows {@link EventData} that is to be displayed\n * @see EventData\n */\nexport interface EventsListProps {\n\teventData: EventData;\n}\n\n/**\n * List events based off inputted JSON\n * Eventually it will take a URL that a\n */\nexport default class EventsList extends Component<EventsListProps> {\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"isitweeka events\">\n\t\t\t\t{/* TODO: Sort out back button for mobile */}\n\t\t\t\t<h2 className=\"\"><button onClick={scrollUp} className=\"back\" /> Upcoming Events</h2>\n\t\t\t\t<div className=\"events-list\">\n\t\t\t\t\t\n\t\t\t\t\t{this.props.eventData.events.length > 0 ? this.props.eventData.events.filter(theEvent => theEvent.hidden !== true).map((theEvent, index) => (\n\t\t\t\t\t\t<EventRow key={index} event={theEvent} />\n\t\t\t\t\t)) :\n\t\t\t\t\t\t<h1 id=\"no-events-header\">There are no events.</h1>\n\t\t\t\t\t}\n\n\t\t\t\t\t{/*<div className=\"events-row\">*/}\n\t\t\t\t\t{/*\t<div style={{ ...baseEventImageStyle }}>*/}\n\t\t\t\t\t{/*\t  <h4>[IMAGE SET AS BACKGROUND OF THIS DIV]</h4>*/}\n\t\t\t\t\t{/*\t</div>*/}\n\t\t\t\t\t{/*\t<div>*/}\n\t\t\t\t\t{/*\t  <h3>Event Number Two?</h3>*/}\n\t\t\t\t\t{/*\t  <h4>Tickets on sale 03/02/21</h4>*/}\n\t\t\t\t\t{/*\t</div>*/}\n\t\t\t\t\t{/*</div>*/}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}","/// Please only user SEVERE, MODERATE, or LOW...\n// export type ThreatLevels = \"CRITICAL\" | \"SEVERE\" | \"SUBSTANTIAL\" | \"MODERATE\" | \"LOW\";\nexport enum ThreatLevels {\n\tLOW = \"LOW\",\n\tINFO = \"INFO\",\n\tMODERATE = \"MODERATE\",\n\tSUBSTANTIAL = \"SUBSTANTIAL\",\n\tSEVERE = \"SEVERE\",\n\tCRITICAL = \"CRITICAL\",\n}\n\nexport interface AlertResponce {\n\tshowAlert: boolean;\n\tmessage: string | \"\";\n\talertLevel: ThreatLevels;\n\t/** Provides a website to link to when clicked */\n\tlinkTo?: string;\n\t/** Text for the call to action for click */\n\tlinkText?: string;\n}","import React, { useState } from \"react\";\nimport { AlertResponce, ThreatLevels } from \"../utils/AlertInterfaces\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\n\n/**\n * Gets the className to use for a given alert level.\n * Only accepts a {@link ThreatLevels}\n *\n * @returns The className\n * @example Given `LOW` return ``r-banner-alert-LOW`.\n */\nfunction getClassNameFromAlertLevel(level: ThreatLevels): `r-banner-alert-${ThreatLevels}` {\n\tswitch (level) {\n\t\tcase ThreatLevels.LOW:\n\t\t\treturn \"r-banner-alert-LOW\";\n\t\tcase ThreatLevels.INFO:\n\t\t\treturn \"r-banner-alert-INFO\";\n\t\tcase ThreatLevels.MODERATE:\n\t\t\treturn \"r-banner-alert-MODERATE\";\n\t\tcase ThreatLevels.SUBSTANTIAL:\n\t\t\treturn \"r-banner-alert-SUBSTANTIAL\";\n\t\tcase ThreatLevels.SEVERE:\n\t\t\treturn \"r-banner-alert-SEVERE\";\n\t\tcase ThreatLevels.CRITICAL:\n\t\t\treturn \"r-banner-alert-CRITICAL\";\n\t}\n}\n\nexport interface AlertBannerProps {\n\talert: AlertResponce\n}\n\n/**\n * Show an alert banner for import messages, etc\n */\nconst AlertBanner: React.FC<AlertBannerProps> = (props) => {\n\n\tconst [dismissed, setDismissState] = useState(false);\n\tconst [expanded, setExpandState] = useState(false);\n\n\tfunction handleDismiss() {\n\t\tconsole.log(\"Banner dismissed\");\n\t\tsetDismissState(true);\n\t\tgtag(\"event\", \"alert_dimissed\", {\n\t\t\t\"value\": \"true\",\n\t\t\t\"label\": \"alert_dimissed\",\n\t\t});\n\t}\n\n\t/**\n\t * Reports to Google analytics when the \"View More\" link was clicked so we can track conversions\n\t */\n\tfunction reportAlertButtonClick() {\n\t\tif (!expanded) {\n\t\t\tsetExpandState(true);\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(\"Alert button clicked\");\n\t\tgtag(\"event\", \"alert_link_clicked\", {\n\t\t\t\"event_category\": \"engagement\",\n\t\t\t\"value\": \"true\",\n\t\t\t\"label\": \"alert_link_clicked\",\n\t\t});\n\t}\n\n\tconst showExpandButtonMobile = props.alert.message.length > 30 && !expanded;\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"r-banner-container\" style={{\n\t\t\t\t...(\n\t\t\t\t\tdismissed ? { display: \"none\" } : {} // Handle hiding it\n\t\t\t\t),\n\t\t\t}}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${getClassNameFromAlertLevel(props.alert.alertLevel)} r-banner`}>\n\t\t\t\t\t<h3 className=\"desktop\">\n\t\t\t\t\t\t{props.alert.message}{/*&nbsp;*/}\n\t\t\t\t\t\t{props.alert.linkTo ?\n\t\t\t\t\t\t\t<a className=\"r-banner-link\" href={props.alert.linkTo} target=\"__blank\" onClick={reportAlertButtonClick}>{props.alert.linkText || \"View More\"}</a>\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t</h3>\n\n\t\t\t\t\t<h3 className=\"mobile\">\n\t\t\t\t\t\t<span>{showExpandButtonMobile ? \"New Alert(s)\" : props.alert.message}</span>&nbsp;\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<a className=\"r-banner-link\" href={expanded ? props.alert.linkTo : undefined} target=\"__blank\" onClick={(event) => { !expanded && event.preventDefault(); reportAlertButtonClick(); }}>\n\t\t\t\t\t\t\t<span>{expanded ? props.alert.linkText || \"View\" : \"Expand\"}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<h3 className=\"desktop\"><FontAwesomeIcon onClick={handleDismiss} className=\"r-banner-dismiss\" icon={faTimes} /></h3>\n\t\t\t\t\t<h3 className=\"mobile\"><FontAwesomeIcon onClick={handleDismiss} className=\"r-banner-dismiss\" icon={faTimes} /></h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{dismissed ? null : <div className=\"mobile not-x\" style={{ height: 144 }} />}\n\t\t</>\n\t);\n};\n\nexport default AlertBanner;\n","import { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport FocusTrap from \"focus-trap-react\";\nimport React, { useEffect, useState } from \"react\";\nimport FontAwesome from \"react-fontawesome\";\nimport { Portal } from \"react-portal\";\nimport Button from \"./Button.Forward\";\n\ntype MailListProps =  {\n\tisListForMobile: true;\n\tdimisser: () => void;\n} | {\n\tisListForMobile: false;\n}\n\n\nconst SHOW_MOBILE_AT_WIDTH = 1050;\n\nconst BaseMailingListForm: React.FC<MailListProps> = (props) => {\n\tconst handleClick = () => {\n\t\t// Here you are Kishan!\n\t\t// Kishan: xD\n\n\t\t/** Track sign ups */\n\t\tgtag(\"event\", \"maillist_signup\", {\n\t\t\t\"event_category\": \"engagement\",\n\t\t\t\"value\": \"true\",\n\t\t\t\"label\": \"maillist_signup\",\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className={!props.isListForMobile ? \"sosumi sosumi-desktop\" : \"sosumi sosumi-mobile\"}>\n\t\t\t{\n\t\t\t\tprops.isListForMobile && <h3 className=\"sosumi-dismiss\">\n\t\t\t\t\t<FontAwesomeIcon className=\"r-banner-dismiss\" icon={faTimes} onClick={props.dimisser} />\n\t\t\t\t</h3>\n\t\t\t}\n\t\t\t<h3>Want updates on the exciting things we have in store?</h3>\n\t\t\t{\n\t\t\t\tprops.isListForMobile &&\n\t\t\t\t<h4 id=\"required-message\">(All fields are required)</h4>\n\t\t\t}\n\t\t\t<form action=\"https://isitweeka.us7.list-manage.com/subscribe/post\" method=\"POST\">\n\t\t\t\t{/* NOTE: DO NOT DELETE THESE HIDDEN VALUES OR CHANGE THE SUBMIT LINK OR THINGS WILL BREAK */}\n\t\t\t\t<input type=\"hidden\" name=\"u\" value=\"1a205026e7a571c5b62dd369d\" />\n\t\t\t\t<input type=\"hidden\" name=\"id\" value=\"249833b0f4\" />\n\t\t\t\t<div className=\"input-container\">\n\t\t\t\t\t<label htmlFor=\"name-input\">Name:</label>\n\t\t\t\t\t<input required={true} placeholder={\"Anakin Skywalker\"} id=\"name-input MERGE6\" type=\"text\" name=\"MERGE6\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-container\">\n\t\t\t\t\t<label htmlFor=\"email-input\">Email:</label>\n\t\t\t\t\t<input required={true} placeholder={\"anakin@gmail.com\"} id=\"email-input MERGE0\" type=\"email\" name=\"MERGE0\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-checkbox-container\">\n\t\t\t\t\t<label htmlFor=\"dob-input\">I am age 13 or above & accept the privacy policy:</label>\n\t\t\t\t\t<input required={true} id=\"dob-input gdpr[49308]\" type=\"checkbox\" name=\"gdpr[49308]\"/>\n\t\t\t\t</div>\n\t\t\t\t<Button buttonType=\"fill\" style={{ fontSize: \"1em\" }} type=\"submit\" onClick={handleClick} light>Sign up</Button>\n\t\t\t\t<a className=\"privacy-policy-link\" href=\"/privacy.html\">Privacy&nbsp;Policy</a>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\n\nconst MailingListContainer: React.FC = (props) => {\n\n\tconst [mobileListIsOpen, setmobileListIsOpen] = useState(false);\n\n\tfunction mailingListMobileDismisser() {\n\t\t\n\t\t// When the modal is hidden...\n\t\tconst scrollY = document.body.style.top;\n\t\tdocument.body.style.position = \"\";\n\t\tdocument.body.style.top = \"\";\n\t\twindow.scrollTo(0, parseInt(scrollY || \"0\") * -1);\n\t\tsetmobileListIsOpen(false);\n\t}\n\n\tuseEffect(() => {\n\n\t\t// Wait and set modal\n\t\tsetTimeout(() => {\n\t\t\t// Inital body adjustments\n\t\t\t// When the modal is shown, we want a fixed body#\n\t\t\tif (window.innerWidth <= SHOW_MOBILE_AT_WIDTH) {\n\t\t\t\tconst scrolled = window.scrollY;\n\t\t\t\tconsole.log(scrolled);\n\t\t\t\tdocument.body.style.position = \"fixed\";\n\t\t\t\tdocument.body.style.top = `-${scrolled}px`;\n\t\t\t\tsetmobileListIsOpen(true);\n\t\t\t}\n\t\t}, 4500);\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<BaseMailingListForm isListForMobile={false} />\n\t\t\t{ mobileListIsOpen &&\n\t\t\t\t<Portal>\n\t\t\t\t\t<div className=\"mobile-bg-cover\"></div>\n\t\t\t\t\t<BaseMailingListForm isListForMobile={true} dimisser={mailingListMobileDismisser} />\n\t\t\t\t</Portal>\n\t\t\t}\n\t\t</>\n\t);\n};\n\nexport default MailingListContainer;","import { faInstagram, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\n\n/**\n * Social Media links\n */\nconst Socials: React.FC = (props) => {\n\treturn (\n\t\t<div className=\"social-container\">\n\t\t\t<a href=\"https://instagram.com/isitweeka\" target=\"__blank\" className=\"instagram\"><FontAwesomeIcon size={\"2x\"} icon={faInstagram} /></a>\n\t\t\t<a href=\"https://twitter.com/IsItWeekA\" target=\"__blank\" className=\"twitter\"><FontAwesomeIcon size={\"2x\"} icon={faTwitter} /></a>\n\t\t</div>\n\t);\n};\n\nexport default Socials;","import { GregorianDay } from \"./constants\";\nimport * as ical from \"ical\";\n\n/** Return values from IsItWeekA . First type is a return where the week is know, with a specifier if it is a weekend, second is if the week could not be detected (e.g. is holiday) */\ntype IsItWeekAReturn = {\n\tisWeekend: boolean;\n\tweek: \"A\" | \"B\";\n} | {\n\tisWeekend: boolean;\n\tweek: \"unknown\";\n}\n\n/**\n * Base class used to determine if it is Week A or B\n * \n * How calendar loading works:\n * 1. We have a GitHub Action that every Friday fetches KECHB and KECHG school calendar and uploads it to the repo for deployment.\n * 2. The site fetches this:\n * \t1. goes back to the last `weekMarkerDate` (e.g. Monday - {@link SiteProps.weekMarkerDate}),\n * \t\tbased on the current UTC date.\n * \t\tIt goes forward to the next `weekMarkerDate` if it is a weekend.\n * \tNB: It also checks the area within 24hrs of the targetted date to cope with daylight savings etc\n * \t2. Sees if a Week A or Week B event is in the calendar on the day. If not, return that it's likely a holiday.\n * \n * @example ```typescript\n * // 1 used as it represented Monday (as the weekmarker)\n * const weekChecker = new IsItWeekA(1, \"/cal/KECHB/basic.ics\", new Date());\n * const isWeekAOrB = await weekChecker.isItWeekAorB(); // then looks at output object\n * ```\n */\nexport default class IsItWeekA {\n\n\t/** Calendar to fetch events from, e.g. `calendar@camphillboys.bham.sch.uk` */\n\tpublic readonly calendarURL: string;\n\t/** Day of the event with summary (title) \"Week A\" or \"Week B\" that marks a week as being A/B, 0-6, where 0 is Sunday */\n\tpublic readonly weekMarkerDate: GregorianDay;\n\t/** Day we're looking for which week it is from (normally today) NOTE: may not be the same as what is inputted due to internal transformations */\n\tpublic inputDate: Date;\n\t/** Is it a weekend today? */\n\tprotected isWeekend = false;\n\n\t/** Constructor. See props of the class with the same name for more info */\n\tconstructor(\n\t\tweekMarkerDate: GregorianDay,\n\t\tcalendarURL: string,\n\t\tinputDate: Date,\n\t) {\n\t\tthis.weekMarkerDate = weekMarkerDate;\n\t\tthis.calendarURL = calendarURL;\n\t\tthis.inputDate = new Date(inputDate); // So we can adjust it\n\t}\n\n\t/**\n\t * Gets the monday from a week\n\t * From https://stackoverflow.com/questions/4156434/javascript-get-the-first-day-of-the-week-from-current-date\n\t * @deprecated Use {@link forwardOrRewindToDay} instead\n\t */\n\tpublic getMonday(d: Date) {\n\t\tconst dhere = new Date(d);\n\t\tconst day = dhere.getDay();\n\t\t// Sunday is day 0\n\t\t// Sat is Day 6\n\t\t// If Sun or Sat go to next week\n\t\t/**\n\t\t * What this does is:\n\t\t * - Take the current date\n\t\t * - Subtract the day of the week, taking us to the previous Sunday\n\t\t * - Go forward one to monday\n\t\t * - BUT if the current date is a Saturday, add 8 instead as we want 2 days after that Saturday (the next week), not the previous Monday\n\t\t */\n\t\tconst diff = dhere.getDate() - day + (day === 6 ? 8 : 1); // adjust when day is saturday -> add 6 to bring us back to Saturday, then add 2 to go to Monday\n\t\treturn new Date(dhere.setDate(diff));\n\t}\n\n\t/**\n\t * Go back to the first of a given day during a week, or to the next of the day for forwardList\n\t * Based on https://stackoverflow.com/questions/4156434/javascript-get-the-first-day-of-the-week-from-current-date\n\t * @param d Date object representing the day to 'rewind'\n\t * @param goTo Day number (0-6, 0 = Sunday) to go to\n\t * @param forwardList List of day numbers to forward to `goTo` (instead of backwards).\n\t */\n\tpublic forwardOrRewindToDay(d: Date, goTo: GregorianDay, forwardList: number[]) {\n\t\tconst dhere = new Date(d);\n\t\tconst day = dhere.getUTCDay();\n\t\t//console.log(day);\n\t\t//console.log(dhere.getUTCDate());\n\t\t//console.log(forwardList);\n\t\t//console.log(goTo);\n\t\t// Sunday is day 0\n\t\t// Sat is Day 6\n\t\t// If Sun or Sat go to next week\n\t\t/**\n\t\t * What this does is:\n\t\t * - Take the current date\n\t\t * - Subtract the day of the week, taking us to the previous Sunday\n\t\t * - Go forward by goTo days to the day we want (works as goTo is effectivly a \"Sunday offset\")\n\t\t * - BUT if the current date is in the forward list, add 7 as well to go forward 1 week\n\t\t */\n\t\tconst diff = dhere.getUTCDate() - day + goTo + (forwardList.includes(day) ? 7 : 0); // adjust when day is saturday -> add 6 to bring us back to Saturday, then add 2 to go to Monday\n\t\treturn new Date(dhere.setUTCDate(diff));\n\t}\n\n\t/**\n\t * Loads the KECHB/G calendar (depending on the props provided - see {@link calendarURL}), finds the current week, then goes to the Monday/Sunday (whichever given by `props.weekMarkerDate`) of that week\n\t * and checks for an event with the title (`event.summary`) of \"Week A\" or \"Week B\".\n\t * @see SiteContainer documentation for more information on the algoirthm\n\t */\n\tpublic async isItWeekAorB(): Promise<IsItWeekAReturn> {\n\t\t\n\t\t// Get to the start of the week\n\t\tconst weekStart = this.forwardOrRewindToDay(this.inputDate, this.weekMarkerDate, [6]);\n\t\tweekStart.setUTCHours(0, 0, 0, 0); // Set to start of day\n\t\tconst weekEnd = new Date(weekStart);\n\t\tweekEnd.setUTCDate(weekEnd.getUTCDate() + 1);\n\t\tweekEnd.setUTCHours(0, 0, 0, 0); // Set to start of day\n\n\t\t// Tell us if weekend!\n\t\tconst dayNow = this.inputDate.getUTCDay();\n\t\tif (dayNow === 6 || dayNow === 0) { // 0 is Sunday, 6 is Saturday\n\t\t\tconsole.debug(\"Is Weekend\");\n\t\t\tthis.isWeekend = true;\n\t\t}\n\n\t\t// Representations of the values we are looking for\n\t\tconst startTime = weekStart.toISOString();\n\t\tconst endTime = weekEnd.toISOString();\n\n\t\t// DEBUG\n\t\t// console.log(weekStart.toISOString());\n\t\t// console.log(weekEnd.toISOString());\n\n\t\t// Fetch the iCal file\n\t\tconst baseResponse = await fetch(this.calendarURL, {\n\t\t\tmethod: \"GET\",\n\t\t\tmode: \"no-cors\",\n\t\t\tcredentials: \"same-origin\",\n\t\t});\n\n\t\tconst ics = await baseResponse.text();\n\n\t\t// console.log(ics);\n\n\t\tconst data = ical.parseICS(ics);\n\n\t\t// console.log(data);\n\n\t\t// Convert to map for easy parsing\n\t\tconst map = new Map(Object.entries(data));\n\n\t\t// Narrow down to only events that are around the date we are looking for\n\t\tmap.forEach((v, key) => {\n\t\t\t// Flag that is set to false if the event matches our conditions to then be checked if \"Week A\" or \"Week B\" marker event\n\t\t\tlet shouldDelete = true;\n\n\t\t\t/** Intial check: do the ISO strings match? */\n\t\t\tif (v.start?.toISOString() === startTime) {\n\t\t\t\tshouldDelete = false;\n\t\t\t}\n\t\t\t/**\n\t\t\t * Sometimes, e.g. daylight savings, the start time of the \"Week A\" event in the calendar is NOT at midnight\n\t\t\t * (by this I mean normally the start time is, for a all-day Week A/B event on a Monday, normally Monday at 00:00)\n\t\t\t * E.g. for a Monday Week A event, the start time may be Sunday 23:00 due to daylight saving (see issue #57)\n\t\t\t * \n\t\t\t * Here, we check if the event is the day before or day after `weekStart`, and also the day itself for extra measure, to catch the error described above.\n\t\t\t * THis is done by checking if the UNIX time value of the event is within 24hrs of the target time\n\t\t\t */\n\t\t\tif (v.start && Math.abs(weekStart.valueOf() - v.start?.valueOf()) <= 24 * 60 * 60 * 1000) {\n\t\t\t\tshouldDelete = false;\n\t\t\t}\n\n\t\t\t// Delete this key if none of our conditions met\n\t\t\tif (shouldDelete) {\n\t\t\t\tmap.delete(key);\n\t\t\t}\n\t\t});\n\n\t\t// Filter events to those that are \"Week A\" or \"Week B\"\n\t\tlet theEvent: ical.CalendarComponent | undefined;\n\t\tmap.forEach((entry, key) => {\n\t\t\tif (entry.summary === \"Week A\" || entry.summary === \"Week B\") {\n\t\t\t\ttheEvent = entry;\n\t\t\t} else {\n\t\t\t\tmap.delete(key);\n\t\t\t}\n\t\t});\n\t\t// Print warning to console if > 1 event found (shouldn't happen!)\n\t\tif (map.size > 1) {\n\t\t\tconsole.warn(`More than one Week A/B marker event found! Got ${map.size} events`);\n\t\t}\n\t\tif (map.size === 0 || !theEvent) {\n\t\t\t// Neither detected.  Probably Hols.\n\t\t\treturn {\n\t\t\t\tweek: \"unknown\",\n\t\t\t\tisWeekend: this.isWeekend,\n\t\t\t};\n\t\t} else {\n\t\t\t// const theEvent = eventsToday[0];\n\n\t\t\tswitch (theEvent.summary) {\n\t\t\t\tcase \"Week A\":\n\t\t\t\t\treturn {\n\t\t\t\t\t\tweek: \"A\",\n\t\t\t\t\t\tisWeekend: this.isWeekend,\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Week B\":\n\t\t\t\t\treturn {\n\t\t\t\t\t\tweek: \"B\",\n\t\t\t\t\t\tisWeekend: this.isWeekend,\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// NEITHER!\n\t\t\t\t\t// Something went wrong\n\t\t\t\t\treturn {\n\t\t\t\t\t\tweek: \"unknown\",\n\t\t\t\t\t\tisWeekend: this.isWeekend,\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n}","import React, { Component } from \"react\";\nimport EventsList, { EventData } from \"./EventsList\";\nimport Button from \"./Button.Forward\";\nimport { GregorianDay } from \"../utils/constants\";\nimport { getScrollDownWithAdditional } from \"../utils/scroll\";\nimport * as ical from \"ical\";\nimport { AlertResponce, ThreatLevels } from \"../utils/AlertInterfaces\";\nimport AlertBanner from \"./AlterBanner\";\nimport Banner from \"./MailingListBanner\";\nimport Socials from \"./Socials\";\nimport IsItWeekA from \"../utils/IsItWeekA\";\nimport YoutubeContainer from \"./YoutubeContainer\";\nimport YearGroupCalendar from \"./YearGroupCalendar\";\n\n/**\n * Props to provide to the site\n */\nexport interface SiteProps {\n\t/** Calendar to fetch events from, e.g. `calendar@camphillboys.bham.sch.uk` */\n\tcalendarURL: string;\n\t/** Day of the Week A/B event that marks a week as being A/B, 0-6, where 0 is Sunday */\n\tweekMarkerDate: GregorianDay;\n\t/** Events data - eventually replaced with state */\n\teventsFetcher: () => Promise<EventData>;\n\t/** Fetches site alert */\n\talertsFetcher: () => Promise<AlertResponce>;\n}\n\nconst baseEventImageStyle = {\n\tbackgroundSize: \"contain\",\n\tbackgroundRepeat: \"no-repeat\",\n\tbackgroundPosition: \"center\",\n\tdisplay: \"flex\",\n\tflex: 1,\n\tmargin: \"auto\",\n\twidth: \"90%\",\n\tmaxHeight: \"80%\",\n};\n\ninterface TheState {\n\t/** Set to unknown if neither Week A or B is detected */\n\tweek: \"A\" | \"B\" | \"unknown\";\n\t/** Tells page when API has ran  (i.e. page loaded) */\n\tapiHasRan: boolean;\n\tisWeekend: boolean;\n\teventData: EventData;\n\talert: AlertResponce;\n}\n\n/**\n * Contains the site of isitweeka.com itself.\n * They way, we can easily create variations of it for e.g. different school.\n * \n * How calendar loading works:\n * 1. We have a GitHub Action that every Friday fetches KECHB and KECHG school calendar and uploads it to the repo for deployment.\n * 2. The site fetches this:\n * \t1. goes back to the last `weekMarkerDate` (e.g. Monday - {@link SiteProps.weekMarkerDate}),\n * \t\tbased on the current UTC date.\n * \t\tIt goes forward to the next `weekMarkerDate` if it is a weekend.\n * \t2. Sees if a Week A or Week B event is in the calendar on the day. If not, displays a messages saying it's likely a holiday.\n */\nexport default class SiteContainer extends Component<SiteProps, TheState> {\n\n\tconstructor(props: SiteProps) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tweek: \"unknown\",\n\t\t\tapiHasRan: false,\n\t\t\tisWeekend: false,\n\t\t\teventData: {\n\t\t\t\tevents: [],\n\t\t\t\tgeneratedAt: \"\",\n\t\t\t},\n\t\t\t// Default alert\n\t\t\talert: {\n\t\t\t\tmessage: \"ATTENTION: ALL EXAMS ARE CANCELLED - Albus Dumbledore\",\n\t\t\t\tshowAlert: false,\n\t\t\t\talertLevel: ThreatLevels.LOW,\n\t\t\t}\n\t\t\t,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\ttry {\n\t\t\tthis.getCalendar();\n\t\t\tthis.fetchEvents();\n\t\t\tthis.fetchNotifications();\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Error: \" + err?.message);\n\t\t}\n\t}\n\n\t/** Fetches any alerts that need to be diplayed */\n\tfetchNotifications = async () => {\n\t\t// TODO: GET request for whether there is an alert\n\t\t// TODO: set state to response\n\n\t\t// const baseResponse = await fetch(\"/alerts.json\", {\n\t\t// \tmethod: \"GET\",\n\t\t// });\n\n\t\t// const response: AlertResponce = await baseResponse.json();\n\n\t\t//const response = KECHBAlerts;\n\t\tconst response = await this.props.alertsFetcher();\n\n\t\tthis.setState({\n\t\t\talert: response,\n\t\t});\n\t}\n\n\tasync fetchEvents() {\n\t\t// TODO: Add real fetch logic, likely based on an inputted URL\n\t\tthis.setState({\n\t\t\teventData: await this.props.eventsFetcher(),\n\t\t});\n\t}\n\n\t/**\n\t * Gets the monday from a week\n\t * From https://stackoverflow.com/questions/4156434/javascript-get-the-first-day-of-the-week-from-current-date\n\t * @deprecated Use {@link forwardOrRewindToDay} instead\n\t */\n\tgetMonday(d: Date) {\n\t\tconst dhere = new Date(d);\n\t\tconst day = dhere.getDay();\n\t\t// Sunday is day 0\n\t\t// Sat is Day 6\n\t\t// If Sun or Sat go to next week\n\t\t/**\n\t\t * What this does is:\n\t\t * - Take the current date\n\t\t * - Subtract the day of the week, taking us to the previous Sunday\n\t\t * - Go forward one to monday\n\t\t * - BUT if the current date is a Saturday, add 8 instead as we want 2 days after that Saturday (the next week), not the previous Monday\n\t\t */\n\t\tconst diff = dhere.getDate() - day + (day === 6 ? 8 : 1); // adjust when day is saturday -> add 6 to bring us back to Saturday, then add 2 to go to Monday\n\t\treturn new Date(dhere.setDate(diff));\n\t}\n\n\t/**\n\t * Go back to the first of a given day during a week, or to the next of the day for forwardList\n\t * Based on https://stackoverflow.com/questions/4156434/javascript-get-the-first-day-of-the-week-from-current-date\n\t * @param d Date object representing the day to 'rewind'\n\t * @param goTo Day number (0-6, 0 = Sunday) to go to\n\t * @param forwardList List of day numbers to forward to `goTo` (instead of backwards).\n\t */\n\tforwardOrRewindToDay(d: Date, goTo: GregorianDay, forwardList: number[]) {\n\t\tconst dhere = new Date(d);\n\t\tconst day = dhere.getUTCDay();\n\t\t//console.log(day);\n\t\t//console.log(dhere.getUTCDate());\n\t\t//console.log(forwardList);\n\t\t//console.log(goTo);\n\t\t// Sunday is day 0\n\t\t// Sat is Day 6\n\t\t// If Sun or Sat go to next week\n\t\t/**\n\t\t * What this does is:\n\t\t * - Take the current date\n\t\t * - Subtract the day of the week, taking us to the previous Sunday\n\t\t * - Go forward by goTo days to the day we want (works as goTo is effectivly a \"Sunday offset\")\n\t\t * - BUT if the current date is in the forward list, add 7 as well to go forward 1 week\n\t\t */\n\t\tconst diff = dhere.getUTCDate() - day + goTo + (forwardList.includes(day) ? 7 : 0); // adjust when day is saturday -> add 6 to bring us back to Saturday, then add 2 to go to Monday\n\t\treturn new Date(dhere.setUTCDate(diff));\n\t}\n\n\t/**\n\t * Loads the KECHB/G calendar (depending on the props provided), finds the current week, then goes to the Monday/Sunday (whichever given by `props.weekMarkerDate`) of that week\n\t * and checks for an event with the title (`event.summary`) of \"Week A\" or \"Week B\".\n\t * @see SiteContainer documentation for more information on the algoirthm\n\t */\n\tasync getCalendar() {\n\t\tconst inputDate = new Date();\n\t\t// Used for fiddling:\n\t\t// NOTE: Do NOT allow code into production where these value are uncommented\n\t\t//inputDate.setDate(26);\n\t\t//inputDate.setMonth(7);\n\t\t//inputDate.setFullYear(2021);\n\t\t// Get which week it is \n\t\tconst weekChecker = new IsItWeekA(this.props.weekMarkerDate, this.props.calendarURL, inputDate);\n\t\tconst theWeek = await weekChecker.isItWeekAorB();\n\t\tthis.setState({\n\t\t\tapiHasRan: true,\n\t\t\tweek: theWeek.week,\n\t\t\tisWeekend: theWeek.isWeekend,\n\t\t});\n\t}\n\n\t/**\n\t * Used to get what to display as the jumbotron, i.e. is it Week A, B or neither?\n\t */\n\tgetStatus() {\n\t\tif (this.state.week === \"unknown\") {\n\t\t\t// NOTE: getScrollDownWithAdditional was originally fed 150 instead of 0\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<h2>It is neither Week A nor B.</h2>\n\t\t\t\t\t<h3>This means it&#39;s probably a holiday.</h3>\n\t\t\t\t\t<Button style={{ marginRight: \"auto\" }} className=\"forward\" onClick={getScrollDownWithAdditional(0)}><div>events</div></Button>\n\t\t\t\t\t<h5 id=\"neitherAB-contact\">If you believe this is in error, please email&nbsp;<a href=\"mailto:info@isitweeka.com\">info@isitweeka.com</a></h5>\n\t\t\t\t\t<Socials />\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\t// NOTE: getScrollDownWithAdditional was originally fed 150 instead of 0\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t\n\t\t\t\t\t{/*{this.state.alert.showAlert ? <div className=\"mobile\" style={{ height: 144 }} /> : null}*/}\n\t\t\t\t\t<h2 className=\"desktop\">{this.state.isWeekend ? \"Next week will be\" : \"It is\"}</h2> {/* Special case for weekend, where we show next week*/}\n\t\t\t\t\t<h1 className=\"desktop\">Week {this.state.week}</h1>\n\t\t\t\t\t<h2 className=\"mobile\">{this.state.isWeekend ? \"Next week will be week\" : \"It is week\"}</h2> {/* Special case for weekend, where we show next week*/}\n\t\t\t\t\t<h1 className=\"mobile\">{this.state.week}</h1>\n\t\t\t\t\t<h4>More coming soon...</h4>\n\t\t\t\t\t<Button style={{ marginRight: \"auto\", marginTop: 25 }} className=\"forward\" onClick={getScrollDownWithAdditional(0)}>events</Button>\n\t\t\t\t\t<Socials />\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"isitweeka isitweeka-jumbotron\">\n\t\t\t\t\t{this.state.alert.showAlert ? <AlertBanner alert={this.state.alert} /> : null}\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.apiHasRan ? this.getStatus() : (<h2>Loading...</h2>)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<Banner />\n\t\t\t\t{ /* Pulled offline due to jankiness. Readd once a better solution with proper mobile styles and dedicated place is found:\n\t\t\t\t\t<YearGroupCalendar /> */ }\n\t\t\t\t<EventsList eventData={this.state.eventData} />\n\t\t\t</>\n\t\t);\n\t}\n}\n","import React from \"react\";\n\nexport const TabRow: React.FunctionComponent = (props) => {\n\treturn (\n\t\t<div className=\"r-tab-row\">\n\t\t\t{props.children}\n\t\t</div>\n\t);\n};","import React from \"react\";\n\ninterface Props {\n\tonClick?: () => any;\n\tactive?: boolean;\n}\n\nexport const Tab: React.FunctionComponent<Props> = (props) => {\n\treturn (\n\t\t<button className={`r-tab${props.active ? \" active\" : \"\"}`} onClick={props.onClick}>\n\t\t\t<span>{props.children}</span>\n\t\t</button>\n\t);\n};","import React from \"react\";\nimport { TabRow } from \"./TabRow\";\nimport { Tabs } from \"./interfaces\";\nimport { Tab } from \"./Tab\";\n\ninterface Props {\n\ttabs: Tabs;\n\tinitialTab?: number;\n\t/**\n\t * Executed after a tab has changed.\n\t * @param tab Name of tab provided in `props.tabs`\n\t * @param index Index of tab\n\t */\n\tonTabChange?: (tab: string, index: number) => void;\n}\n\nexport const TabContainer: React.FunctionComponent<Props> = (props) => {\n\tconst [activeTab, setTab] = React.useState(props.initialTab || 0);\n\n\t/**\n\t * Used to execute `props.onTabChange` on the click of a tab\n\t */\n\tfunction afterTabChange(tab: string, index: number) {\n\t\tif (typeof props.onTabChange !== \"undefined\") {\n\t\t\tprops.onTabChange(tab, index);\n\t\t}\n\t}\n\n\t// Inital exection of it\n\tReact.useEffect(() => afterTabChange(props.tabs[activeTab].tab, activeTab));\n\n\treturn (\n\t\t<div className=\"r-tab-container\">\n\t\t\t<TabRow>\n\t\t\t\t{props.tabs.map(({ tab }, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tab key={index} onClick={() => { setTab(index); afterTabChange(tab, index); }} active={activeTab === index}>{tab}</Tab>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</TabRow>\n\t\t\t<div>\n\t\t\t\t{props.tabs.map(({ component }, index) => {\n\t\t\t\t\treturn index === activeTab ? (\n\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t{component}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null;\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n","/** Type to represent a (Gregorian calendar!) day */\nexport type GregorianDay = 0 | 1 | 2 | 3 | 4 | 5 | 6; \n\n/** Name of Cookie used to store school preference */\nexport const COOKIE_SCHOOL_PREFERENCE = \"SchoolPreference\";\n","/**\n * MOCK Events data\n * Replace with actual JSON response later\n */\n\nimport { EventData, EventTypes } from \"../components/EventsList\";\n\nexport const KECHBEvents: EventData = {\n\tevents: [\n\t\t{\n\t\t\ttitle: \"Would I Lie To You?\",\n\t\t\tdescription: \"Come here teachers tell their embarrassing stories!\",\n\t\t\turl: \"https://www.eventbrite.co.uk/e/would-i-lie-to-you-students-vs-teachers-tickets-133890123965?aff=isitweeka\",\n\t\t\tticketsSale: {\n\t\t\t\tstart: \"01/01/2020\"\n\t\t\t},\n\t\t\theaderURL: \"/events/WILTY_Logo.png\",\n\t\t\tbackgroundColor: \"#2C1F39\",\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\ttitle: \"LockdownRuns4Charity\",\n\t\t\tdescription: \"A group of students aiming to run 1000km.\",\n\t\t\turl: \"https://www.gofundme.com/f/khsjye-lockdownruns4charity\",\n\t\t\theaderURL: \"https://youngminds.org.uk/assets/logos/youngminds-logo.svg\",\n\t\t\tbackgroundColor: \"#ffffff\",\n\t\t\teventType: EventTypes.FUNDRIASER,\n\t\t\ttarget: \"2000\",\n\t\t\ttextColour: \"#000000\",\n\t\t\tcta: {\n\t\t\t\tcolor: \"#fff\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\t//backgroundColor: \"#0091EA\", // Possible A/B Test\n\t\t\t},\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\ttitle: \"CHAOS\",\n\t\t\theaderURL: \"/events/School-Logo.png\",\n\t\t\tticketsSale: {\n\t\t\t\tstart: \"01/01/2020\"\n\t\t\t},\n\t\t\tdescription: \"Countdown to CHAOS: the Camp Hill Amateur Operatic Society.  Little else is known at the moment.\",\n\t\t\twhen: \"Monday 19th July 2021\",\n\t\t\tbackgroundColor: \"#752023\",\n\t\t\thidden: false,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Cross-Country\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Autumn 2020\",\n\t\t\tstate: \"done\",\n\t\t\tcurrentVictor: \"Seymour\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\tbackgroundColor: \"#FFBE5A\",\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Touch Rugby\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Autumn 2020\",\n\t\t\tstate: \"done\",\n\t\t\tcurrentVictor: \"Beaufort\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: \"#CC4545\",\n\t\t}\n\t],\n\tgeneratedAt: \"0\"\n};\n\nexport const KECHGEvents = {\n\tevents: [],\n\tgeneratedAt: \"0\",\n};","/**\n * Footer\n */\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Button from \"./Button.Forward\";\nimport { faGithub, faInstagram, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { faEnvelope, faAt, faLink } from \"@fortawesome/free-solid-svg-icons\";\nimport Socials from \"./Socials\";\nimport { version } from \"../../package.json\";\n\nconst Footer: React.FC = () => {\n\treturn (\n\t\t<div className=\"footer\">\n\t\t\t<a id=\"feedback-buttom\" target=\"__blank\" href=\"https://forms.gle/KaS2VUAmZqfS1Nf26\"><Button>give feedback</Button></a>\n\n\t\t\t<p>\n\t\t\t\tCreated by Kishan Sambhi &amp; Madeline Hart.<br />\n\t\t\t\t&#169; {(new Date()).getFullYear()}, source available on GitHub under the MIT license.<br /><br />\n\t\t\t\tData controller information: data controlled by Kishan Sambhi, a KECH pupil, and will only ever be viewed by KECH pupils.<br />\n\t\t\t\tAll changes to this site are reviewed, merged and deployed by a KECH pupil.<br /><br />\n\t\t\t\tVersion {version}\n\t\t\t</p>\n\n\t\t\t<Socials />\n\n\t\t\t<div className=\"outbound-links\">\n\t\t\t\t<a target=\"__blank\" href=\"https://github.com/Gum-Joe/isitweeka\">\n\t\t\t\t\t<FontAwesomeIcon icon={faGithub} />&nbsp;\n\t\t\t\t\t<u>GitHub</u>\n\t\t\t\t</a>\n\t\t\t\t<a target=\"__blank\" href=\"https://github.com/Gum-Joe/isitweeka/issues\">\n\t\t\t\t\t<u>Feature Tracker</u>\n\t\t\t\t</a>\n\t\t\t\t<a target=\"__blank\" href=\"mailto:info@isitweeka.com\">\n\t\t\t\t\t<FontAwesomeIcon icon={faEnvelope} />&nbsp;\n\t\t\t\t\t<u>Email us</u>\n\t\t\t\t</a>\n\t\t\t\t<a target=\"__blank\" href=\"/privacy.html\"><u>Privacy Policy</u></a>\n\t\t\t</div>\n\n\t\t\t<div className=\"container-credits\">\n\t\t\t\t<div>\n\t\t\t\t\t<h4>Find Kishan here:</h4>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<a target=\"__blank\" href=\"https://github.com/Gum-Joe\"><li><FontAwesomeIcon icon={faGithub} /> GitHub</li></a>\n\t\t\t\t\t\t<a target=\"__blank\" href=\"https://twitter.com/k_sam_mighty\"><li><FontAwesomeIcon icon={faTwitter} /> Twitter</li></a>\n\t\t\t\t\t\t<a target=\"__blank\" href=\"https://instagram.com/k_sam_mighty\"><li><FontAwesomeIcon icon={faInstagram} /> Instagram</li></a>\n\t\t\t\t\t\t{/* NOTE: Change to a personal e-mail when leaving school */}\n\t\t\t\t\t\t<a target=\"__blank\" href=\"mailto:15Sambhi614@camphillboys.bham.sch.uk\"><li><FontAwesomeIcon icon={faEnvelope} /> Email</li></a>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<h4>Find Madeline here:</h4>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<a target=\"__blank\" href=\"https://github.com/ILikeTeaALot\"><li><FontAwesomeIcon icon={faGithub} /> GitHub</li></a>\n\t\t\t\t\t\t<a target=\"__blank\" href=\"https://www.rykan.net\"><li><FontAwesomeIcon icon={faLink} /> rykan.net</li></a>\n\t\t\t\t\t\t<a target=\"__blank\" href=\"mailto:madeline@rykan.net\"><li><FontAwesomeIcon icon={faAt} /> Email</li></a>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\t);\n};\n\nexport default Footer;\n","import { AlertResponce, ThreatLevels } from \"../utils/AlertInterfaces\";\n\n/*export const KECHBAlerts: AlertResponce = {\n\tshowAlert: true,\n\t//message: \"BREAKING: Student Council Chair Adeen Irfan has resigned, triggering an election.\",\n\t// alertLevel: ThreatLevels.CRITICAL,\n\tmessage: \"Welcome to IsItWeekA - it's currently in beta & will be fully launched first week back. Make sure to follow our socials!\",\n\talertLevel: ThreatLevels.INFO,\n};*/\n\nexport const KECHBAlerts: AlertResponce = {\n\tshowAlert: true,\n\t//message: \"BREAKING: Student Council Chair Adeen Irfan has resigned, triggering an election.\",\n\t// alertLevel: ThreatLevels.CRITICAL,\n\tmessage: \"Good luck to all those taking exams! And wishing our Year 13s all the best as they leave the school - good luck & have fun!\",\n\talertLevel: ThreatLevels.LOW,\n\tlinkText: \"view more\",\n\tlinkTo: \"https://twitter.com/IsItWeekA/status/1393264907043450883?s=20\"\n};\n\nexport const KECHGAlerts: AlertResponce = {\n\tshowAlert: true,\n\t//message: \"BREAKING: Student Council Chair Adeen Irfan has resigned, triggering an election.\",\n\t// alertLevel: ThreatLevels.CRITICAL,\n\tmessage: \"Welcome to IsItWeekA! We'll use these banners for important alerts in the future.\",\n\talertLevel: ThreatLevels.LOW,\n\t//linkText: \"more info\",\n\t//linkTo: \"https://twitter.com/KEVICHB/status/1359153991104557064?s=20\"\n};\n","import React, { Component } from \"react\";\nimport gaSetState from \"./utils/gAnalytics\";\n//import \"./App.css\";\nimport \"./scss/index.scss\";\nimport CookieConsent from \"react-cookie-consent\";\nimport SiteContainer from \"./components/SiteContainer\";\nimport { TabContainer } from \"./components/Tabs\";\nimport { Navbar } from \"react-bootstrap\";\nimport Cookies from \"js-cookie\";\nimport { COOKIE_SCHOOL_PREFERENCE } from \"./utils/constants\";\nimport { KECHBEvents, KECHGEvents } from \"./data/events-mock\";\nimport Footer from \"./components/Footer\";\nimport { KECHBAlerts, KECHGAlerts } from \"./data/alerts\";\n\n/*function App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.tsx</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}*/\n\nclass App extends Component<Record<string, never>> {\n\n\tconstructor(props: Record<string, never>) {\n\t\tsuper(props);\n\t}\n\n\t/**\n\t * Provided to TabContainer to update the cookie with whichever school the user has clicked\n\t * @param tab Tab name (so school name) from tabs list\n\t * @param index Tab index\n\t */\n\tupdateCookie(tab: string, index: number) {\n\t\t// ONLY set cookie if opt in set.\n\t\tif (Cookies.get(\"CookieConsent\") === \"true\") {\n\t\t\tCookies.set(COOKIE_SCHOOL_PREFERENCE, {\n\t\t\t\tschool: tab,\n\t\t\t\ttabIndex: index,\n\t\t\t}, {\n\t\t\t\tsecure: true,\n\t\t\t\tsameSite: \"strict\",\n\t\t\t});\n\n\t\t\t// Log this\n\t\t\tif (typeof gtag !== \"undefined\") {\n\t\t\t\tconsole.log(\"Setting to \" + tab);\n\t\t\t\tgtag(\"set\", \"user_properties\", {\n\t\t\t\t\tschool: tab\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\n\t\t\t\t<TabContainer tabs={[\n\t\t\t\t\t{\n\t\t\t\t\t\ttab: \"KECHB\",\n\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t<SiteContainer\n\t\t\t\t\t\t\t\tcalendarURL=\"/cal/KECHB/basic.ics\"\n\t\t\t\t\t\t\t\tweekMarkerDate={1}\n\t\t\t\t\t\t\t\teventsFetcher={\n\t\t\t\t\t\t\t\t\tasync () => KECHBEvents\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\talertsFetcher={\n\t\t\t\t\t\t\t\t\tasync () => KECHBAlerts\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttab: \"KECHG\",\n\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t<SiteContainer\n\t\t\t\t\t\t\t\tcalendarURL=\"/cal/KECHG/basic.ics\"\n\t\t\t\t\t\t\t\tweekMarkerDate={0}\n\t\t\t\t\t\t\t\teventsFetcher={\n\t\t\t\t\t\t\t\t\tasync () => KECHGEvents\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\talertsFetcher={\n\t\t\t\t\t\t\t\t\tasync () => KECHGAlerts\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t]} onTabChange={this.updateCookie} initialTab={(() => Cookies.getJSON(COOKIE_SCHOOL_PREFERENCE)?.tabIndex || 0)()}/>\n\n\t\t\t\t<Footer />\n\n\t\t\t\t{/* Cookie consent */}\n\t\t\t\t<Navbar fixed=\"bottom\">\n\t\t\t\t\t<CookieConsent\n\t\t\t\t\t\tenableDeclineButton\n\t\t\t\t\t\tflipButtons\n\t\t\t\t\t\tbuttonText=\"I understand\"\n\t\t\t\t\t\tdeclineButtonText=\"No thanks\"\n\t\t\t\t\t\tonAccept={\n\t\t\t\t\t\t\t() => { gaSetState(false); window.location.reload(); }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonDecline={\n\t\t\t\t\t\t\t() => { gaSetState(true); window.location.reload(); }\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\tThis website uses cookies for preferences and analytics (via Google Analytics).\n\t\t\t\t\t\t<a href={process.env.PUBLIC_URL + \"/privacy.html\"}> View Privacy Policy</a>\n\t\t\t\t\t</CookieConsent>\n\t\t\t\t</Navbar>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry);\n\t\t\tgetFID(onPerfEntry);\n\t\t\tgetFCP(onPerfEntry);\n\t\t\tgetLCP(onPerfEntry);\n\t\t\tgetTTFB(onPerfEntry);\n\t\t});\n\t}\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n//import \"./scss/index.scss\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}