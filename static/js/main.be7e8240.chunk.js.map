{"version":3,"sources":["utils/gAnalytics.ts","utils/scroll.ts","components/Button.Forward.tsx","components/EventRow.tsx","components/EventsList.tsx","utils/AlertInterfaces.ts","components/AlterBanner.tsx","components/MailingListBanner.tsx","components/Socials.tsx","utils/IsItWeekA.ts","components/SiteContainer.tsx","components/Tabs/TabRow.tsx","components/Tabs/Tab.tsx","components/Tabs/Container.tsx","utils/constants.tsx","data/events-mock.ts","components/Footer.tsx","data/alerts.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["GA_DISABLE_COOKIE_STR","gaSetState","state","document","cookie","window","getScrollDownWithAdditional","add","scrollTo","top","innerHeight","behavior","scrollUp","Button","props","buttonType","className","light","children","displayName","baseEventImageStyle","backgroundSize","backgroundRepeat","backgroundPosition","display","flex","margin","width","maxHeight","reportOutboundButtonClick","console","log","gtag","generateRootStyle","event","backgroundColor","color","textColour","EventTypes","KECHBHouses","EventRow","this","eventType","CHARITY","style","backgroundImage","headerURL","title","when","description","ticketsSale","url","Date","start","valueOf","now","href","onClick","cta","type","text","FUNDRIASER","target","HOUSE","dateTime","currentVictor","React","PureComponent","toISOString","ThreatLevels","EventsList","filteredEvents","eventData","events","filter","theEvent","hidden","length","map","index","id","Component","getClassNameFromAlertLevel","level","LOW","INFO","MODERATE","SUBSTANTIAL","SEVERE","CRITICAL","AlertBanner","useState","dismissed","setDismissState","expanded","setExpandState","handleDismiss","reportAlertButtonClick","showExpandButtonMobile","alert","message","alertLevel","linkTo","linkText","undefined","preventDefault","icon","faTimes","height","BaseMailingListForm","isListForMobile","dimisser","action","method","name","value","htmlFor","required","placeholder","fontSize","MALING_LIST_DIMISS_COOKIE","MailingListContainer","mobileListIsOpen","setmobileListIsOpen","useEffect","setTimeout","Cookies","get","innerWidth","scrolled","scrollY","body","position","parseInt","set","expires","Socials","size","faInstagram","faTwitter","IsItWeekA","weekMarkerDate","calendarURL","inputDate","isWeekend","d","dhere","day","getDay","diff","getDate","setDate","goTo","forwardList","getUTCDay","getUTCDate","includes","setUTCDate","weekStart","forwardOrRewindToDay","setUTCHours","weekEnd","dayNow","debug","startTime","fetch","mode","credentials","baseResponse","ics","data","ical","Map","Object","entries","forEach","v","key","shouldDelete","Math","abs","delete","entry","summary","warn","week","SiteContainer","fetchNotifications","a","alertsFetcher","response","setState","apiHasRan","generatedAt","showAlert","getCalendar","fetchEvents","err","error","eventsFetcher","weekChecker","isItWeekAorB","theWeek","marginRight","marginTop","getStatus","TabRow","Tab","active","TabContainer","initialTab","activeTab","setTab","afterTabChange","tab","onTabChange","tabs","component","COOKIE_SCHOOL_PREFERENCE","HOUSE_EVENT_PENDING_BG","HOUSE_HOWARD","KECHBEvents","KECHGEvents","Footer","getFullYear","version","faGithub","faEnvelope","KECHBAlerts","KECHGAlerts","App","school","tabIndex","secure","sameSite","updateCookie","getJSON","Navbar","fixed","enableDeclineButton","flipButtons","buttonText","declineButtonText","onAccept","location","reload","onDecline","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.be7e8240.chunk.js","sourcesContent":["// Set to the same value as the web property used on the site\nexport const GA_PROPERTY = \"G-X4VMSWGN74\";\n\n/** \n * Disable tracking if the opt-out cookie exists.\n * Also opts out of preferences\n */\nexport const GA_DISABLE_COOKIE_STR = \"ga-disable-\" + GA_PROPERTY;\n/*if (document.cookie.indexOf(disableStr + '=true') > -1) {\n\t// @ts-ignore\n\twindow[disableStr] = true;\n}*/\n\n// Opt-out function\n/** Use true to opt out */\nexport default function gaSetState(state: boolean): void {\n\tdocument.cookie = GA_DISABLE_COOKIE_STR + `=${state ? \"true\" : \"false\"}; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/`;\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore\n\twindow[GA_DISABLE_COOKIE_STR] = state;\n}","/**\n * Useful utils to scroll up and down the page\n * @packageDocumentation\n */\n\nexport function scrollDown(): void {\n\twindow.scrollTo({\n\t\ttop: window.innerHeight,\n\t\tbehavior: \"smooth\",\n\t});\n}\n\n/**\n * Get a scroll downer with some additional scorlling down\n * @param add number of extra pixels to scroll\n */\nexport function getScrollDownWithAdditional(add: number) {\n\treturn (): void => {\n\t\twindow.scrollTo({\n\t\t\ttop: window.innerHeight + add,\n\t\t\tbehavior: \"smooth\",\n\t\t});\n\t};\n\t\n}\n\nexport function scrollUp(): void {\n\twindow.scrollTo({\n\t\ttop: 0,\n\t\tbehavior: \"smooth\",\n\t});\n}","import React from \"react\";\n\ninterface ButtonProps {\n\tbuttonType?: \"fill\" | \"underline\";\n\tlight?: boolean;\n}\n\nconst Button = (props: React.ButtonHTMLAttributes<any> & ButtonProps) => {\n\tif (props?.buttonType === \"fill\") {\n\t\treturn (\n\t\t\t<button {...props} className=\"filled-button\" data-light={props.light}>\n\t\t\t\t<span>{props.children}</span>\n\t\t\t</button>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<button {...props} className=\"forward\" data-light={props.light}>\n\t\t\t\t<span>{props.children}</span>\n\t\t\t</button>\n\t\t);\n\t}\n\t\n};\n\nButton.displayName = \"Button.Forward\";\n\nexport default Button;","import React from \"react\";\nimport Button from \"./Button.Forward\";\nimport { EventItem, EventTypes } from \"./EventsList\";\n\nconst baseEventImageStyle = {\n\tbackgroundSize: \"contain\",\n\tbackgroundRepeat: \"no-repeat\",\n\tbackgroundPosition: \"center\",\n\tdisplay: \"flex\",\n\tflex: 1,\n\tmargin: \"auto\",\n\twidth: \"90%\",\n\tmaxHeight: \"80%\",\n};\n\ninterface RowProps {\n\tevent: EventItem;\n}\n\n/**\n * Reports to Google analytics when the \"Donate Now\" or \"Buy Tickets\" link was clicked so we can track conversions\n */\nfunction reportOutboundButtonClick() {\n\tconsole.log(\"Reporting button click...\");\n\tgtag(\"event\", \"outbound_events_button_click\", {\n\t\t\"event_category\": \"ecommerce\",\n\t\t\"value\": \"true\",\n\t\t\"label\": \"outbound_events_button_click\",\n\t});\n}\n\n/** Generates event row root div styling */\nfunction generateRootStyle(event: EventItem): Record<string, string> {\n\treturn { backgroundColor: event.backgroundColor, color: event.textColour || \"#fff\" };\n}\n\nexport default class EventRow extends React.PureComponent<RowProps, never> {\n\trender() {\n\t\tswitch (this.props.event.eventType) {\n\t\t\tcase EventTypes.CHARITY:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"events-row\" style={generateRootStyle(this.props.event)}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div style={{ backgroundImage: `url(${this.props.event.headerURL})`, ...baseEventImageStyle }}>\n\t\t\t\t\t\t\t\t{/*<h4>[IMAGE SET AS BACKGROUND OF THIS DIV]</h4>*/}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3>{this.props.event.title}</h3>\n\t\t\t\t\t\t\t{typeof this.props.event.when !== \"undefined\" ? <h4 className=\"no-margin\">When? {this.props.event.when}</h4> : null}\n\t\t\t\t\t\t\t{typeof this.props.event.description !== \"undefined\" ? <h4 className=\"no-margin\">{this.props.event.description}</h4> : null}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// Display the URL to buy tickets IF there is a ticket start time.\n\t\t\t\t\t\t\t\tthis.props.event.ticketsSale && this.props.event.url &&\n\t\t\t\t\t\t\t\t\tnew Date(this.props.event.ticketsSale.start).valueOf() < Date.now() ?\n\t\t\t\t\t\t\t\t\t<a href={this.props.event.url}>\n\t\t\t\t\t\t\t\t\t\t<Button onClick={reportOutboundButtonClick} buttonType={this.props.event.cta?.type || \"underline\"} style={{ ...this.props.event.cta }}>{ this.props.event.cta?.text || \"Buy Tickets\" }</Button>\n\t\t\t\t\t\t\t\t\t</a> : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.props.event.ticketsSale &&\n\t\t\t\t\t\t\t\t\tnew Date(this.props.event.ticketsSale.start).valueOf() > Date.now() ?\n\t\t\t\t\t\t\t\t\t<h4>Tickets on sale {this.props.event.ticketsSale.start}</h4> : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\n\t\t\tcase EventTypes.FUNDRIASER:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"events-row\" style={generateRootStyle(this.props.event)}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div style={{ backgroundImage: `url(${this.props.event.headerURL})`, ...baseEventImageStyle }}>\n\t\t\t\t\t\t\t\t{/*<h4>[IMAGE SET AS BACKGROUND OF THIS DIV]</h4>*/}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3>{this.props.event.title}</h3>\n\t\t\t\t\t\t\t{typeof this.props.event.description !== \"undefined\" ? <h4 className=\"no-margin\">{this.props.event.description}</h4> : null}\n\t\t\t\t\t\t\t<h4 className=\"no-margin\">Target: {this.props.event.target}</h4>\n\t\t\t\t\t\t\t<a target=\"__blanK\" href={this.props.event.url}>\n\t\t\t\t\t\t\t\t<Button onClick={reportOutboundButtonClick} buttonType={this.props.event.cta?.type || \"underline\"} style={{ ...this.props.event.cta }}>{this.props.event.cta?.text || \"Donate Now\"}</Button>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\n\t\t\tcase EventTypes.HOUSE:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"events-row\" style={generateRootStyle(this.props.event)}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div style={{ backgroundImage: `url(${this.props.event.headerURL})`, ...baseEventImageStyle }}>\n\t\t\t\t\t\t\t\t{/*<h4>[IMAGE SET AS BACKGROUND OF THIS DIV]</h4>*/}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3>{this.props.event.title}</h3>\n\t\t\t\t\t\t\t{typeof this.props.event.description !== \"undefined\" ? <h4 className=\"no-margin\">{this.props.event.description}</h4> : null}\n\t\t\t\t\t\t\t<h4 className=\"no-margin\">Date: {this.props.event.dateTime}</h4>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// Only show current victor if event is ongoing or done\n\t\t\t\t\t\t\t\tthis.props.event.state !== \"todo\" && typeof this.props.event.currentVictor !== \"undefined\" ?\n\t\t\t\t\t\t\t\t\t<h4 className=\"no-margin\">{this.props.event.state !== \"done\" ? \"Current \" : \"\"}Victor:&nbsp;<span className=\"current-victor\">{this.props.event.currentVictor}</span></h4>\n\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<h1>There&amp;s been an error - an invalid event type was provided. Please file an issue on GitHub (see footer).</h1>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t}\n\t}\n}","import React, { Component } from \"react\";\nimport { scrollUp, scrollDown } from \"../utils/scroll\";\nimport EventRow from \"./EventRow\";\n\n/**\n * Here's how it works:\n * - Current we just deploy a static JSON file with events and alerts in.\n * - These (and by extension the API) are currently described in terms of TS interfaces below.\n * \n * Essentially there's a base event type, which has an eventType field\n * which TS then uses to infer the extra props for different event types (fundraiser, charity event and house event)\n * that are shown as the interfaces below)\n * \n * @packageDocumentation\n */\n\n/**\n * Used to distinguish between the different type of event we can display.\n */\nexport enum EventTypes {\n\t/** house event */\n\tHOUSE = \"house\",\n\t/** charity event */\n\tCHARITY = \"charity\", \n\t/** charity fundraiser */\n\tFUNDRIASER = \"fundraiser\"\n} \n\nexport enum KECHBHouses {\n\tBeaufort = \"beaufort\",\n\tHoward = \"Howard\",\n\tSeymour = \"Seymour\",\n\tTudor = \"Tudor\"\n}\n\n/** Base event intergace - all events need to have these properties */\nexport interface BaseEventItem {\n\ttitle: string;\n\tdescription?: string;\n\theaderURL: string;\n\tbackgroundColor: string;\n\t// HACK: So that it won't complain about the JSON. Please remove eventually\n\teventType: EventTypes | string;\n\thidden?: boolean;\n\ttextColour?: string;\n\t/** BG Colour of call to action button */\n\tcta?: {\n\t\tcolor?: string;\n\t\tbackgroundColor?: string;\n\t\t/** underline: button has an underline. fill: button has a fill instead */\n\t\ttype: \"underline\" | \"fill\";\n\t\t/** Change the CTA text */\n\t\ttext?: string,\n\t},\n\t/* String representation of the date/time of event */\n\twhen?: string,\n}\n\n/**\n * Props specific to fundraisers.\n * For {@link EventTypes.FUNDRIASER}\n*/\nexport interface EventItemFundraiser extends BaseEventItem {\n\teventType: EventTypes.FUNDRIASER | \"fundraiser\";\n\turl: string;\n\ttarget: string;\n}\n\n/**\n * Props specific to charity events.\n * For {@link EventTypes.CHARITY}\n*/\nexport interface EventItemCharity extends BaseEventItem {\n\teventType: EventTypes.CHARITY | \"charity\";\n\t/* Omit URL for no ticket button */\n\turl?: string;\n\t\n\t// Can now also use for regular, non-ticket events\n\tticketsSale?: {\n\t\tstart: string;\n\t\tend?: string;\n\t};\n}\n\n/**\n * Props specific to house events.\n * For {@link EventTypes.HOUSE}\n*/\nexport interface EventItemHouse extends BaseEventItem {\n\teventType: EventTypes.HOUSE | \"house\";\n\t/** String time of event. Either a term (e.g. \"Autumn\"), date */\n\tdateTime: string;\n\tstate: \"todo\" | \"ongoing\" | \"done\";\n\tcurrentVictor?: string;\n}\n\n/*export interface EventItem {\n\ttitle: string;\n\t// HACK: So that it won't complain about the JSON. Please remove eventually\n\teventType: EventTypes | string;\n\turl: string;\n\tticketsSale?: {\n\t\tstart: string;\n\t\tend?: string;\n\t};\n\theaderURL: string;\n\tbackgroundColor: string;\n}*/\n\n/**\n * IMPORTANT: Merges the event types into one type.\n * \n * TS type inference then auto-picks the right type based on `eventType` field.\n */\nexport type EventItem = EventItemFundraiser | EventItemCharity | EventItemHouse;\n\n/**\n * Expected API response\n */\nexport interface EventData {\n\tevents: Array<EventItem>;\n\tgeneratedAt: string; // Timestamp\n}\n\n/**\n * @deprecated Use the JSON file in `data` insted.\n */\nexport const dummyResponse: EventData = {\n\tevents: [\n\t\t{\n\t\t\ttitle: \"Would I Lie To You?\",\n\t\t\tdescription: \"Would I Lie To You?\",\n\t\t\turl: \"https://www.eventbrite.co.uk/e/would-i-lie-to-you-students-vs-teachers-tickets-133890123965?aff=isitweeka\",\n\t\t\theaderURL: \"/Logo_Export_Trans_but_not_on_HRT.png\",\n\t\t\tbackgroundColor: \"#2C1F39\",\n\t\t\tticketsSale: {\n\t\t\t\tstart: \"1/1/2020\",\n\t\t\t},\n\t\t\teventType: \"charity\"\n\t\t}\n\t],\n\tgeneratedAt: new Date().toISOString(),\n};\n\n/**\n * Fetched events list that follows {@link EventData} that is to be displayed\n * @see EventData\n */\nexport interface EventsListProps {\n\teventData: EventData;\n}\n\n/**\n * List events based off inputted JSON\n * Eventually it will take a URL that a\n */\nexport default class EventsList extends Component<EventsListProps> {\n\n\trender() {\n\t\tconst filteredEvents = this.props.eventData.events.filter(theEvent => theEvent.hidden !== true);\n\t\treturn (\n\t\t\t<div className=\"isitweeka events\">\n\t\t\t\t{/* TODO: Sort out back button for mobile */}\n\t\t\t\t<h2 className=\"\"><button onClick={scrollUp} className=\"back\" /> Upcoming Events</h2>\n\t\t\t\t<div className=\"events-list\">\n\t\t\t\t\t\n\t\t\t\t\t{filteredEvents.length > 0 ? filteredEvents.map((theEvent, index) => (\n\t\t\t\t\t\t<EventRow key={index} event={theEvent} />\n\t\t\t\t\t)) :\n\t\t\t\t\t\t<h1 id=\"no-events-header\">There are no events.</h1>\n\t\t\t\t\t}\n\n\t\t\t\t\t{/*<div className=\"events-row\">*/}\n\t\t\t\t\t{/*\t<div style={{ ...baseEventImageStyle }}>*/}\n\t\t\t\t\t{/*\t  <h4>[IMAGE SET AS BACKGROUND OF THIS DIV]</h4>*/}\n\t\t\t\t\t{/*\t</div>*/}\n\t\t\t\t\t{/*\t<div>*/}\n\t\t\t\t\t{/*\t  <h3>Event Number Two?</h3>*/}\n\t\t\t\t\t{/*\t  <h4>Tickets on sale 03/02/21</h4>*/}\n\t\t\t\t\t{/*\t</div>*/}\n\t\t\t\t\t{/*</div>*/}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}","/// Please only user SEVERE, MODERATE, or LOW...\n// export type ThreatLevels = \"CRITICAL\" | \"SEVERE\" | \"SUBSTANTIAL\" | \"MODERATE\" | \"LOW\";\nexport enum ThreatLevels {\n\tLOW = \"LOW\",\n\tINFO = \"INFO\",\n\tMODERATE = \"MODERATE\",\n\tSUBSTANTIAL = \"SUBSTANTIAL\",\n\tSEVERE = \"SEVERE\",\n\tCRITICAL = \"CRITICAL\",\n}\n\nexport interface AlertResponce {\n\tshowAlert: boolean;\n\tmessage: string | \"\";\n\talertLevel: ThreatLevels;\n\t/** Provides a website to link to when clicked */\n\tlinkTo?: string;\n\t/** Text for the call to action for click */\n\tlinkText?: string;\n}","import React, { useState } from \"react\";\nimport { AlertResponce, ThreatLevels } from \"../utils/AlertInterfaces\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\n\n/**\n * Gets the className to use for a given alert level.\n * Only accepts a {@link ThreatLevels}\n *\n * @returns The className\n * @example Given `LOW` return ``r-banner-alert-LOW`.\n */\nfunction getClassNameFromAlertLevel(level: ThreatLevels): `r-banner-alert-${ThreatLevels}` {\n\tswitch (level) {\n\t\tcase ThreatLevels.LOW:\n\t\t\treturn \"r-banner-alert-LOW\";\n\t\tcase ThreatLevels.INFO:\n\t\t\treturn \"r-banner-alert-INFO\";\n\t\tcase ThreatLevels.MODERATE:\n\t\t\treturn \"r-banner-alert-MODERATE\";\n\t\tcase ThreatLevels.SUBSTANTIAL:\n\t\t\treturn \"r-banner-alert-SUBSTANTIAL\";\n\t\tcase ThreatLevels.SEVERE:\n\t\t\treturn \"r-banner-alert-SEVERE\";\n\t\tcase ThreatLevels.CRITICAL:\n\t\t\treturn \"r-banner-alert-CRITICAL\";\n\t}\n}\n\nexport interface AlertBannerProps {\n\talert: AlertResponce\n}\n\n/**\n * Show an alert banner for import messages, etc\n */\nconst AlertBanner: React.FC<AlertBannerProps> = (props) => {\n\n\tconst [dismissed, setDismissState] = useState(false);\n\tconst [expanded, setExpandState] = useState(false);\n\n\tfunction handleDismiss() {\n\t\tconsole.log(\"Banner dismissed\");\n\t\tsetDismissState(true);\n\t\tgtag(\"event\", \"alert_dimissed\", {\n\t\t\t\"value\": \"true\",\n\t\t\t\"label\": \"alert_dimissed\",\n\t\t});\n\t}\n\n\t/**\n\t * Reports to Google analytics when the \"View More\" link was clicked so we can track conversions\n\t */\n\tfunction reportAlertButtonClick() {\n\t\tif (!expanded) {\n\t\t\tsetExpandState(true);\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(\"Alert button clicked\");\n\t\tgtag(\"event\", \"alert_link_clicked\", {\n\t\t\t\"event_category\": \"engagement\",\n\t\t\t\"value\": \"true\",\n\t\t\t\"label\": \"alert_link_clicked\",\n\t\t});\n\t}\n\n\tconst showExpandButtonMobile = props.alert.message.length > 30 && !expanded;\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"r-banner-container\" style={{\n\t\t\t\t...(\n\t\t\t\t\tdismissed ? { display: \"none\" } : {} // Handle hiding it\n\t\t\t\t),\n\t\t\t}}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${getClassNameFromAlertLevel(props.alert.alertLevel)} r-banner`}>\n\t\t\t\t\t<h3 className=\"desktop\">\n\t\t\t\t\t\t{props.alert.message}{/*&nbsp;*/}\n\t\t\t\t\t\t{props.alert.linkTo ?\n\t\t\t\t\t\t\t<a className=\"r-banner-link\" href={props.alert.linkTo} target=\"__blank\" onClick={reportAlertButtonClick}>{props.alert.linkText || \"View More\"}</a>\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t</h3>\n\n\t\t\t\t\t<h3 className=\"mobile\">\n\t\t\t\t\t\t<span>{showExpandButtonMobile ? \"New Alert(s)\" : props.alert.message}</span>&nbsp;\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{(!expanded || props.alert.linkTo) ? <a className=\"r-banner-link\" href={expanded ? props.alert.linkTo : undefined} target=\"__blank\" onClick={(event) => { !expanded && event.preventDefault(); reportAlertButtonClick(); }}>\n\t\t\t\t\t\t\t<span>{expanded ? props.alert.linkText || \"View\" : \"Expand\"}</span>\n\t\t\t\t\t\t</a> : null }\n\t\t\t\t\t</h3>\n\t\t\t\t\t<h3 className=\"desktop\"><FontAwesomeIcon onClick={handleDismiss} className=\"r-banner-dismiss\" icon={faTimes} /></h3>\n\t\t\t\t\t<h3 className=\"mobile\"><FontAwesomeIcon onClick={handleDismiss} className=\"r-banner-dismiss\" icon={faTimes} /></h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{dismissed ? null : <div className=\"mobile not-x\" style={{ height: 144 }} />}\n\t\t</>\n\t);\n};\n\nexport default AlertBanner;\n","import { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport FocusTrap from \"focus-trap-react\";\nimport Cookies from \"js-cookie\";\nimport React, { useEffect, useState } from \"react\";\nimport FontAwesome from \"react-fontawesome\";\nimport { Portal } from \"react-portal\";\nimport Button from \"./Button.Forward\";\n\ntype MailListProps =  {\n\tisListForMobile: true;\n\tdimisser: () => void;\n} | {\n\tisListForMobile: false;\n}\n\n\nconst SHOW_MOBILE_AT_WIDTH = 1050;\n\nconst BaseMailingListForm: React.FC<MailListProps> = (props) => {\n\tconst handleClick = () => {\n\t\t// Here you are Kishan!\n\t\t// Kishan: xD\n\n\t\t/** Track sign ups */\n\t\tgtag(\"event\", \"maillist_signup\", {\n\t\t\t\"event_category\": \"engagement\",\n\t\t\t\"value\": \"true\",\n\t\t\t\"label\": \"maillist_signup\",\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className={!props.isListForMobile ? \"sosumi sosumi-desktop\" : \"sosumi sosumi-mobile\"}>\n\t\t\t{\n\t\t\t\tprops.isListForMobile && <h3 className=\"sosumi-dismiss\">\n\t\t\t\t\t<FontAwesomeIcon className=\"r-banner-dismiss\" icon={faTimes} onClick={props.dimisser} />\n\t\t\t\t</h3>\n\t\t\t}\n\t\t\t<h3>Want updates on the exciting things we have in store?</h3>\n\t\t\t{\n\t\t\t\tprops.isListForMobile &&\n\t\t\t\t<h4 id=\"required-message\">(All fields are required)</h4>\n\t\t\t}\n\t\t\t<form action=\"https://isitweeka.us7.list-manage.com/subscribe/post\" method=\"POST\">\n\t\t\t\t{/* NOTE: DO NOT DELETE THESE HIDDEN VALUES OR CHANGE THE SUBMIT LINK OR THINGS WILL BREAK */}\n\t\t\t\t<input type=\"hidden\" name=\"u\" value=\"1a205026e7a571c5b62dd369d\" />\n\t\t\t\t<input type=\"hidden\" name=\"id\" value=\"249833b0f4\" />\n\t\t\t\t<div className=\"input-container\">\n\t\t\t\t\t<label htmlFor=\"name-input\">Name:</label>\n\t\t\t\t\t<input required={true} placeholder={\"Anakin Skywalker\"} id=\"name-input MERGE6\" type=\"text\" name=\"MERGE6\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-container\">\n\t\t\t\t\t<label htmlFor=\"email-input\">Email:</label>\n\t\t\t\t\t<input required={true} placeholder={\"anakin@gmail.com\"} id=\"email-input MERGE0\" type=\"email\" name=\"MERGE0\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-checkbox-container\">\n\t\t\t\t\t<label htmlFor=\"dob-input\">I am age 13 or above & accept the privacy policy:</label>\n\t\t\t\t\t<input required={true} id=\"dob-input gdpr[49308]\" type=\"checkbox\" name=\"gdpr[49308]\"/>\n\t\t\t\t</div>\n\t\t\t\t<Button buttonType=\"fill\" style={{ fontSize: \"1em\" }} type=\"submit\" onClick={handleClick} light>Sign up</Button>\n\t\t\t\t<a className=\"privacy-policy-link\" href=\"/privacy.html\">Privacy&nbsp;Policy</a>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\n\nconst MALING_LIST_DIMISS_COOKIE = \"IsItWeekA_EmailBannerDismiss\";\nconst MailingListContainer: React.FC = (props) => {\n\n\tconst [mobileListIsOpen, setmobileListIsOpen] = useState(false);\n\n\tfunction mailingListMobileDismisser() {\n\t\t\n\t\t// When the modal is hidden...\n\t\tconst scrollY = document.body.style.top;\n\t\tdocument.body.style.position = \"\";\n\t\tdocument.body.style.top = \"\";\n\t\twindow.scrollTo(0, parseInt(scrollY || \"0\") * -1);\n\t\t// set cookie\n\t\tCookies.set(MALING_LIST_DIMISS_COOKIE, \"true\", {\n\t\t\texpires: 14, // Expires in 3 weeks\n\t\t});\n\t\tsetmobileListIsOpen(false);\n\t}\n\n\tuseEffect(() => {\n\n\t\t// Wait and set modal\n\t\tsetTimeout(() => {\n\t\t\t// Inital body adjustments\n\t\t\t// When the modal is shown, we want a fixed body#\n\t\t\tif (Cookies.get(MALING_LIST_DIMISS_COOKIE) !== \"true\") {\n\t\t\t\t// Only show if not previously dismissed.\n\t\t\t\tif (window.innerWidth <= SHOW_MOBILE_AT_WIDTH) {\n\t\t\t\t\tconst scrolled = window.scrollY;\n\t\t\t\t\tconsole.log(scrolled);\n\t\t\t\t\tdocument.body.style.position = \"fixed\";\n\t\t\t\t\tdocument.body.style.top = `-${scrolled}px`;\n\t\t\t\t\tsetmobileListIsOpen(true);\n\t\t\t\t}\n\t\t\t}\t\n\t\t}, 4500);\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<BaseMailingListForm isListForMobile={false} />\n\t\t\t{ mobileListIsOpen &&\n\t\t\t\t<Portal>\n\t\t\t\t\t<div className=\"mobile-bg-cover\"></div>\n\t\t\t\t\t<BaseMailingListForm isListForMobile={true} dimisser={mailingListMobileDismisser} />\n\t\t\t\t</Portal>\n\t\t\t}\n\t\t</>\n\t);\n};\n\nexport default MailingListContainer;","import { faInstagram, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\n\n/**\n * Social Media links\n */\nconst Socials: React.FC = (props) => {\n\treturn (\n\t\t<div className=\"social-container\">\n\t\t\t<a href=\"https://instagram.com/isitweeka\" target=\"__blank\" className=\"instagram\"><FontAwesomeIcon size={\"2x\"} icon={faInstagram} /></a>\n\t\t\t<a href=\"https://twitter.com/IsItWeekA\" target=\"__blank\" className=\"twitter\"><FontAwesomeIcon size={\"2x\"} icon={faTwitter} /></a>\n\t\t</div>\n\t);\n};\n\nexport default Socials;","import { GregorianDay } from \"./constants\";\nimport * as ical from \"ical\";\n\n/** Return values from IsItWeekA . First type is a return where the week is know, with a specifier if it is a weekend, second is if the week could not be detected (e.g. is holiday) */\ntype IsItWeekAReturn = {\n\tisWeekend: boolean;\n\tweek: \"A\" | \"B\";\n} | {\n\tisWeekend: boolean;\n\tweek: \"unknown\";\n}\n\n/**\n * Base class used to determine if it is Week A or B\n * \n * How calendar loading works:\n * 1. We have a GitHub Action that every Friday fetches KECHB and KECHG school calendar and uploads it to the repo for deployment.\n * 2. The site fetches this:\n * \t1. goes back to the last `weekMarkerDate` (e.g. Monday - {@link SiteProps.weekMarkerDate}),\n * \t\tbased on the current UTC date.\n * \t\tIt goes forward to the next `weekMarkerDate` if it is a weekend.\n * \tNB: It also checks the area within 24hrs of the targetted date to cope with daylight savings etc\n * \t2. Sees if a Week A or Week B event is in the calendar on the day. If not, return that it's likely a holiday.\n * \n * @example ```typescript\n * // 1 used as it represented Monday (as the weekmarker)\n * const weekChecker = new IsItWeekA(1, \"/cal/KECHB/basic.ics\", new Date());\n * const isWeekAOrB = await weekChecker.isItWeekAorB(); // then looks at output object\n * ```\n */\nexport default class IsItWeekA {\n\n\t/** Calendar to fetch events from, e.g. `calendar@camphillboys.bham.sch.uk` */\n\tpublic readonly calendarURL: string;\n\t/** Day of the event with summary (title) \"Week A\" or \"Week B\" that marks a week as being A/B, 0-6, where 0 is Sunday */\n\tpublic readonly weekMarkerDate: GregorianDay;\n\t/** Day we're looking for which week it is from (normally today) NOTE: may not be the same as what is inputted due to internal transformations */\n\tpublic inputDate: Date;\n\t/** Is it a weekend today? */\n\tprotected isWeekend = false;\n\n\t/** Constructor. See props of the class with the same name for more info */\n\tconstructor(\n\t\tweekMarkerDate: GregorianDay,\n\t\tcalendarURL: string,\n\t\tinputDate: Date,\n\t) {\n\t\tthis.weekMarkerDate = weekMarkerDate;\n\t\tthis.calendarURL = calendarURL;\n\t\tthis.inputDate = new Date(inputDate); // So we can adjust it\n\t}\n\n\t/**\n\t * Gets the monday from a week\n\t * From https://stackoverflow.com/questions/4156434/javascript-get-the-first-day-of-the-week-from-current-date\n\t * @deprecated Use {@link forwardOrRewindToDay} instead\n\t */\n\tpublic getMonday(d: Date) {\n\t\tconst dhere = new Date(d);\n\t\tconst day = dhere.getDay();\n\t\t// Sunday is day 0\n\t\t// Sat is Day 6\n\t\t// If Sun or Sat go to next week\n\t\t/**\n\t\t * What this does is:\n\t\t * - Take the current date\n\t\t * - Subtract the day of the week, taking us to the previous Sunday\n\t\t * - Go forward one to monday\n\t\t * - BUT if the current date is a Saturday, add 8 instead as we want 2 days after that Saturday (the next week), not the previous Monday\n\t\t */\n\t\tconst diff = dhere.getDate() - day + (day === 6 ? 8 : 1); // adjust when day is saturday -> add 6 to bring us back to Saturday, then add 2 to go to Monday\n\t\treturn new Date(dhere.setDate(diff));\n\t}\n\n\t/**\n\t * Go back to the first of a given day during a week, or to the next of the day for forwardList\n\t * Based on https://stackoverflow.com/questions/4156434/javascript-get-the-first-day-of-the-week-from-current-date\n\t * @param d Date object representing the day to 'rewind'\n\t * @param goTo Day number (0-6, 0 = Sunday) to go to\n\t * @param forwardList List of day numbers to forward to `goTo` (instead of backwards).\n\t */\n\tpublic forwardOrRewindToDay(d: Date, goTo: GregorianDay, forwardList: number[]) {\n\t\tconst dhere = new Date(d);\n\t\tconst day = dhere.getUTCDay();\n\t\t//console.log(day);\n\t\t//console.log(dhere.getUTCDate());\n\t\t//console.log(forwardList);\n\t\t//console.log(goTo);\n\t\t// Sunday is day 0\n\t\t// Sat is Day 6\n\t\t// If Sun or Sat go to next week\n\t\t/**\n\t\t * What this does is:\n\t\t * - Take the current date\n\t\t * - Subtract the day of the week, taking us to the previous Sunday\n\t\t * - Go forward by goTo days to the day we want (works as goTo is effectivly a \"Sunday offset\")\n\t\t * - BUT if the current date is in the forward list, add 7 as well to go forward 1 week\n\t\t */\n\t\tconst diff = dhere.getUTCDate() - day + goTo + (forwardList.includes(day) ? 7 : 0); // adjust when day is saturday -> add 6 to bring us back to Saturday, then add 2 to go to Monday\n\t\treturn new Date(dhere.setUTCDate(diff));\n\t}\n\n\t/**\n\t * Loads the KECHB/G calendar (depending on the props provided - see {@link calendarURL}), finds the current week, then goes to the Monday/Sunday (whichever given by `props.weekMarkerDate`) of that week\n\t * and checks for an event with the title (`event.summary`) of \"Week A\" or \"Week B\".\n\t * @see SiteContainer documentation for more information on the algoirthm\n\t */\n\tpublic async isItWeekAorB(): Promise<IsItWeekAReturn> {\n\t\t\n\t\t// Get to the start of the week\n\t\tconst weekStart = this.forwardOrRewindToDay(this.inputDate, this.weekMarkerDate, [6]);\n\t\tweekStart.setUTCHours(0, 0, 0, 0); // Set to start of day\n\t\tconst weekEnd = new Date(weekStart);\n\t\tweekEnd.setUTCDate(weekEnd.getUTCDate() + 1);\n\t\tweekEnd.setUTCHours(0, 0, 0, 0); // Set to start of day\n\n\t\t// Tell us if weekend!\n\t\tconst dayNow = this.inputDate.getUTCDay();\n\t\tif (dayNow === 6 || dayNow === 0) { // 0 is Sunday, 6 is Saturday\n\t\t\tconsole.debug(\"Is Weekend\");\n\t\t\tthis.isWeekend = true;\n\t\t}\n\n\t\t// Representations of the values we are looking for\n\t\tconst startTime = weekStart.toISOString();\n\t\tconst endTime = weekEnd.toISOString();\n\n\t\t// DEBUG\n\t\t// console.log(weekStart.toISOString());\n\t\t// console.log(weekEnd.toISOString());\n\n\t\t// Fetch the iCal file\n\t\tconst baseResponse = await fetch(this.calendarURL, {\n\t\t\tmethod: \"GET\",\n\t\t\tmode: \"no-cors\",\n\t\t\tcredentials: \"same-origin\",\n\t\t});\n\n\t\tconst ics = await baseResponse.text();\n\n\t\t// console.log(ics);\n\n\t\tconst data = ical.parseICS(ics);\n\n\t\t// console.log(data);\n\n\t\t// Convert to map for easy parsing\n\t\tconst map = new Map(Object.entries(data));\n\n\t\t// Narrow down to only events that are around the date we are looking for\n\t\tmap.forEach((v, key) => {\n\t\t\t// Flag that is set to false if the event matches our conditions to then be checked if \"Week A\" or \"Week B\" marker event\n\t\t\tlet shouldDelete = true;\n\n\t\t\t/** Intial check: do the ISO strings match? */\n\t\t\tif (v.start?.toISOString() === startTime) {\n\t\t\t\tshouldDelete = false;\n\t\t\t}\n\t\t\t/**\n\t\t\t * Sometimes, e.g. daylight savings, the start time of the \"Week A\" event in the calendar is NOT at midnight\n\t\t\t * (by this I mean normally the start time is, for a all-day Week A/B event on a Monday, normally Monday at 00:00)\n\t\t\t * E.g. for a Monday Week A event, the start time may be Sunday 23:00 due to daylight saving (see issue #57)\n\t\t\t * \n\t\t\t * Here, we check if the event is the day before or day after `weekStart`, and also the day itself for extra measure, to catch the error described above.\n\t\t\t * THis is done by checking if the UNIX time value of the event is within 24hrs of the target time\n\t\t\t */\n\t\t\tif (v.start && Math.abs(weekStart.valueOf() - v.start?.valueOf()) <= 24 * 60 * 60 * 1000) {\n\t\t\t\tshouldDelete = false;\n\t\t\t}\n\n\t\t\t// Delete this key if none of our conditions met\n\t\t\tif (shouldDelete) {\n\t\t\t\tmap.delete(key);\n\t\t\t}\n\t\t});\n\n\t\t// Filter events to those that are \"Week A\" or \"Week B\"\n\t\tlet theEvent: ical.CalendarComponent | undefined;\n\t\tmap.forEach((entry, key) => {\n\t\t\tif (entry.summary === \"Week A\" || entry.summary === \"Week B\") {\n\t\t\t\ttheEvent = entry;\n\t\t\t} else {\n\t\t\t\tmap.delete(key);\n\t\t\t}\n\t\t});\n\t\t// Print warning to console if > 1 event found (shouldn't happen!)\n\t\tif (map.size > 1) {\n\t\t\tconsole.warn(`More than one Week A/B marker event found! Got ${map.size} events`);\n\t\t}\n\t\tif (map.size === 0 || !theEvent) {\n\t\t\t// Neither detected.  Probably Hols.\n\t\t\treturn {\n\t\t\t\tweek: \"unknown\",\n\t\t\t\tisWeekend: this.isWeekend,\n\t\t\t};\n\t\t} else {\n\t\t\t// const theEvent = eventsToday[0];\n\n\t\t\tswitch (theEvent.summary) {\n\t\t\t\tcase \"Week A\":\n\t\t\t\t\treturn {\n\t\t\t\t\t\tweek: \"A\",\n\t\t\t\t\t\tisWeekend: this.isWeekend,\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Week B\":\n\t\t\t\t\treturn {\n\t\t\t\t\t\tweek: \"B\",\n\t\t\t\t\t\tisWeekend: this.isWeekend,\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// NEITHER!\n\t\t\t\t\t// Something went wrong\n\t\t\t\t\treturn {\n\t\t\t\t\t\tweek: \"unknown\",\n\t\t\t\t\t\tisWeekend: this.isWeekend,\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n}","import React, { Component } from \"react\";\nimport EventsList, { EventData } from \"./EventsList\";\nimport Button from \"./Button.Forward\";\nimport { GregorianDay } from \"../utils/constants\";\nimport { getScrollDownWithAdditional } from \"../utils/scroll\";\nimport * as ical from \"ical\";\nimport { AlertResponce, ThreatLevels } from \"../utils/AlertInterfaces\";\nimport AlertBanner from \"./AlterBanner\";\nimport Banner from \"./MailingListBanner\";\nimport Socials from \"./Socials\";\nimport IsItWeekA from \"../utils/IsItWeekA\";\nimport YoutubeContainer from \"./YoutubeContainer\";\nimport YearGroupCalendar from \"./YearGroupCalendar\";\n\n/**\n * Props to provide to the site\n */\nexport interface SiteProps {\n\t/** Calendar to fetch events from, e.g. `calendar@camphillboys.bham.sch.uk` */\n\tcalendarURL: string;\n\t/** Day of the Week A/B event that marks a week as being A/B, 0-6, where 0 is Sunday */\n\tweekMarkerDate: GregorianDay;\n\t/** Events data - eventually replaced with state */\n\teventsFetcher: () => Promise<EventData>;\n\t/** Fetches site alert */\n\talertsFetcher: () => Promise<AlertResponce>;\n}\n\nconst baseEventImageStyle = {\n\tbackgroundSize: \"contain\",\n\tbackgroundRepeat: \"no-repeat\",\n\tbackgroundPosition: \"center\",\n\tdisplay: \"flex\",\n\tflex: 1,\n\tmargin: \"auto\",\n\twidth: \"90%\",\n\tmaxHeight: \"80%\",\n};\n\ninterface TheState {\n\t/** Set to unknown if neither Week A or B is detected */\n\tweek: \"A\" | \"B\" | \"unknown\";\n\t/** Tells page when API has ran  (i.e. page loaded) */\n\tapiHasRan: boolean;\n\tisWeekend: boolean;\n\teventData: EventData;\n\talert: AlertResponce;\n}\n\n/**\n * Contains the site of isitweeka.com itself.\n * They way, we can easily create variations of it for e.g. different school.\n * \n * How calendar loading works:\n * 1. We have a GitHub Action that every Friday fetches KECHB and KECHG school calendar and uploads it to the repo for deployment.\n * 2. The site fetches this:\n * \t1. goes back to the last `weekMarkerDate` (e.g. Monday - {@link SiteProps.weekMarkerDate}),\n * \t\tbased on the current UTC date.\n * \t\tIt goes forward to the next `weekMarkerDate` if it is a weekend.\n * \t2. Sees if a Week A or Week B event is in the calendar on the day. If not, displays a messages saying it's likely a holiday.\n */\nexport default class SiteContainer extends Component<SiteProps, TheState> {\n\n\tconstructor(props: SiteProps) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tweek: \"unknown\",\n\t\t\tapiHasRan: false,\n\t\t\tisWeekend: false,\n\t\t\teventData: {\n\t\t\t\tevents: [],\n\t\t\t\tgeneratedAt: \"\",\n\t\t\t},\n\t\t\t// Default alert\n\t\t\talert: {\n\t\t\t\tmessage: \"ATTENTION: ALL EXAMS ARE CANCELLED - Albus Dumbledore\",\n\t\t\t\tshowAlert: false,\n\t\t\t\talertLevel: ThreatLevels.LOW,\n\t\t\t}\n\t\t\t,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\ttry {\n\t\t\tthis.getCalendar();\n\t\t\tthis.fetchEvents();\n\t\t\tthis.fetchNotifications();\n\t\t} catch (err: any) {\n\t\t\tconsole.error(\"Error: \" + err?.message);\n\t\t}\n\t}\n\n\t/** Fetches any alerts that need to be diplayed */\n\tfetchNotifications = async () => {\n\t\t// TODO: GET request for whether there is an alert\n\t\t// TODO: set state to response\n\n\t\t// const baseResponse = await fetch(\"/alerts.json\", {\n\t\t// \tmethod: \"GET\",\n\t\t// });\n\n\t\t// const response: AlertResponce = await baseResponse.json();\n\n\t\t//const response = KECHBAlerts;\n\t\tconst response = await this.props.alertsFetcher();\n\n\t\tthis.setState({\n\t\t\talert: response,\n\t\t});\n\t}\n\n\tasync fetchEvents() {\n\t\t// TODO: Add real fetch logic, likely based on an inputted URL\n\t\tthis.setState({\n\t\t\teventData: await this.props.eventsFetcher(),\n\t\t});\n\t}\n\n\t/**\n\t * Gets the monday from a week\n\t * From https://stackoverflow.com/questions/4156434/javascript-get-the-first-day-of-the-week-from-current-date\n\t * @deprecated Use {@link forwardOrRewindToDay} instead\n\t */\n\tgetMonday(d: Date) {\n\t\tconst dhere = new Date(d);\n\t\tconst day = dhere.getDay();\n\t\t// Sunday is day 0\n\t\t// Sat is Day 6\n\t\t// If Sun or Sat go to next week\n\t\t/**\n\t\t * What this does is:\n\t\t * - Take the current date\n\t\t * - Subtract the day of the week, taking us to the previous Sunday\n\t\t * - Go forward one to monday\n\t\t * - BUT if the current date is a Saturday, add 8 instead as we want 2 days after that Saturday (the next week), not the previous Monday\n\t\t */\n\t\tconst diff = dhere.getDate() - day + (day === 6 ? 8 : 1); // adjust when day is saturday -> add 6 to bring us back to Saturday, then add 2 to go to Monday\n\t\treturn new Date(dhere.setDate(diff));\n\t}\n\n\t/**\n\t * Go back to the first of a given day during a week, or to the next of the day for forwardList\n\t * Based on https://stackoverflow.com/questions/4156434/javascript-get-the-first-day-of-the-week-from-current-date\n\t * @param d Date object representing the day to 'rewind'\n\t * @param goTo Day number (0-6, 0 = Sunday) to go to\n\t * @param forwardList List of day numbers to forward to `goTo` (instead of backwards).\n\t */\n\tforwardOrRewindToDay(d: Date, goTo: GregorianDay, forwardList: number[]) {\n\t\tconst dhere = new Date(d);\n\t\tconst day = dhere.getUTCDay();\n\t\t//console.log(day);\n\t\t//console.log(dhere.getUTCDate());\n\t\t//console.log(forwardList);\n\t\t//console.log(goTo);\n\t\t// Sunday is day 0\n\t\t// Sat is Day 6\n\t\t// If Sun or Sat go to next week\n\t\t/**\n\t\t * What this does is:\n\t\t * - Take the current date\n\t\t * - Subtract the day of the week, taking us to the previous Sunday\n\t\t * - Go forward by goTo days to the day we want (works as goTo is effectivly a \"Sunday offset\")\n\t\t * - BUT if the current date is in the forward list, add 7 as well to go forward 1 week\n\t\t */\n\t\tconst diff = dhere.getUTCDate() - day + goTo + (forwardList.includes(day) ? 7 : 0); // adjust when day is saturday -> add 6 to bring us back to Saturday, then add 2 to go to Monday\n\t\treturn new Date(dhere.setUTCDate(diff));\n\t}\n\n\t/**\n\t * Loads the KECHB/G calendar (depending on the props provided), finds the current week, then goes to the Monday/Sunday (whichever given by `props.weekMarkerDate`) of that week\n\t * and checks for an event with the title (`event.summary`) of \"Week A\" or \"Week B\".\n\t * @see SiteContainer documentation for more information on the algoirthm\n\t */\n\tasync getCalendar() {\n\t\tconst inputDate = new Date();\n\t\t// Used for fiddling:\n\t\t// NOTE: Do NOT allow code into production where these value are uncommented\n\t\t//inputDate.setDate(26);\n\t\t//inputDate.setMonth(7);\n\t\t//inputDate.setFullYear(2021);\n\t\t// Get which week it is \n\t\tconst weekChecker = new IsItWeekA(this.props.weekMarkerDate, this.props.calendarURL, inputDate);\n\t\tconst theWeek = await weekChecker.isItWeekAorB();\n\t\tthis.setState({\n\t\t\tapiHasRan: true,\n\t\t\tweek: theWeek.week,\n\t\t\tisWeekend: theWeek.isWeekend,\n\t\t});\n\t}\n\n\t/**\n\t * Used to get what to display as the jumbotron, i.e. is it Week A, B or neither?\n\t */\n\tgetStatus() {\n\t\tif (this.state.week === \"unknown\") {\n\t\t\t// NOTE: getScrollDownWithAdditional was originally fed 150 instead of 0\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<h2>It is neither Week A nor B.</h2>\n\t\t\t\t\t<h3>This means it&#39;s probably a holiday.</h3>\n\t\t\t\t\t<Button style={{ marginRight: \"auto\" }} className=\"forward\" onClick={getScrollDownWithAdditional(0)}><div>events</div></Button>\n\t\t\t\t\t<h5 id=\"neitherAB-contact\">If you believe this is in error, please email&nbsp;<a href=\"mailto:info@isitweeka.com\">info@isitweeka.com</a></h5>\n\t\t\t\t\t<Socials />\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\t// NOTE: getScrollDownWithAdditional was originally fed 150 instead of 0\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t\n\t\t\t\t\t{/*{this.state.alert.showAlert ? <div className=\"mobile\" style={{ height: 144 }} /> : null}*/}\n\t\t\t\t\t<h2 className=\"desktop\">{this.state.isWeekend ? \"Next week will be\" : \"It is\"}</h2> {/* Special case for weekend, where we show next week*/}\n\t\t\t\t\t<h1 className=\"desktop\">Week {this.state.week}</h1>\n\t\t\t\t\t<h2 className=\"mobile\">{this.state.isWeekend ? \"Next week will be week\" : \"It is week\"}</h2> {/* Special case for weekend, where we show next week*/}\n\t\t\t\t\t<h1 className=\"mobile\">{this.state.week}</h1>\n\t\t\t\t\t<h4>More coming soon - follow our social media for the latest updates!</h4>\n\t\t\t\t\t<Button style={{ marginRight: \"auto\", marginTop: 25 }} className=\"forward\" onClick={getScrollDownWithAdditional(0)}>events</Button>\n\t\t\t\t\t<Socials />\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"isitweeka isitweeka-jumbotron\">\n\t\t\t\t\t{this.state.alert.showAlert ? <AlertBanner alert={this.state.alert} /> : null}\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.apiHasRan ? this.getStatus() : (<h2>Loading...</h2>)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<Banner />\n\t\t\t\t{ /* Pulled offline due to jankiness. Readd once a better solution with proper mobile styles and dedicated place is found:\n\t\t\t\t\t<YearGroupCalendar /> */ }\n\t\t\t\t<EventsList eventData={this.state.eventData} />\n\t\t\t</>\n\t\t);\n\t}\n}\n","import React from \"react\";\n\nexport const TabRow: React.FunctionComponent = (props) => {\n\treturn (\n\t\t<div className=\"r-tab-row\">\n\t\t\t{props.children}\n\t\t</div>\n\t);\n};","import React from \"react\";\n\ninterface Props {\n\tonClick?: () => any;\n\tactive?: boolean;\n}\n\nexport const Tab: React.FunctionComponent<Props> = (props) => {\n\treturn (\n\t\t<button className={`r-tab${props.active ? \" active\" : \"\"}`} onClick={props.onClick}>\n\t\t\t<span>{props.children}</span>\n\t\t</button>\n\t);\n};","import React from \"react\";\nimport { TabRow } from \"./TabRow\";\nimport { Tabs } from \"./interfaces\";\nimport { Tab } from \"./Tab\";\n\ninterface Props {\n\ttabs: Tabs;\n\tinitialTab?: number;\n\t/**\n\t * Executed after a tab has changed.\n\t * @param tab Name of tab provided in `props.tabs`\n\t * @param index Index of tab\n\t */\n\tonTabChange?: (tab: string, index: number) => void;\n}\n\nexport const TabContainer: React.FunctionComponent<Props> = (props) => {\n\tconst [activeTab, setTab] = React.useState(props.initialTab || 0);\n\n\t/**\n\t * Used to execute `props.onTabChange` on the click of a tab\n\t */\n\tfunction afterTabChange(tab: string, index: number) {\n\t\tif (typeof props.onTabChange !== \"undefined\") {\n\t\t\tprops.onTabChange(tab, index);\n\t\t}\n\t}\n\n\t// Inital exection of it\n\tReact.useEffect(() => afterTabChange(props.tabs[activeTab].tab, activeTab));\n\n\treturn (\n\t\t<div className=\"r-tab-container\">\n\t\t\t<TabRow>\n\t\t\t\t{props.tabs.map(({ tab }, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tab key={index} onClick={() => { setTab(index); afterTabChange(tab, index); }} active={activeTab === index}>{tab}</Tab>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</TabRow>\n\t\t\t<div>\n\t\t\t\t{props.tabs.map(({ component }, index) => {\n\t\t\t\t\treturn index === activeTab ? (\n\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t{component}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null;\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n","/** Type to represent a (Gregorian calendar!) day */\nexport type GregorianDay = 0 | 1 | 2 | 3 | 4 | 5 | 6; \n\n/** Name of Cookie used to store school preference */\nexport const COOKIE_SCHOOL_PREFERENCE = \"SchoolPreference\";\n","/**\n * MOCK Events data\n * Replace with actual JSON response later\n */\n\nimport { EventData, EventTypes } from \"../components/EventsList\";\n\n/** Colour for events that are \"todo\" and on the house calendar */\nexport const HOUSE_EVENT_PENDING_BG = \"#752023\";\nexport const HOUSE_BEAUFORT = \"#CC4545\";\nexport const HOUSE_SEYMOUR = \"#e8ae56\";\nexport const HOUSE_HOWARD = \"#4286BB\";\nexport const HOUSE_TUDOR = \"#5a9143\";\n\nexport const KECHBEvents: EventData = {\n\tgeneratedAt: \"0\",\n\tevents: [\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Chess\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"starts Monday 17th January 2022\",\n\t\t\tstate: \"todo\",\n\t\t\t//currentVictor: \"Beaufort\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_EVENT_PENDING_BG,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Swimming Gala\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Thursday 3rd February 2022\",\n\t\t\tstate: \"todo\",\n\t\t\t//currentVictor: \"Beaufort\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_EVENT_PENDING_BG,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Handball\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"starts w/c 7th February 2022\",\n\t\t\tstate: \"todo\",\n\t\t\t//currentVictor: \"Beaufort\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_EVENT_PENDING_BG,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Volleyball\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"starts w/c 14th March 2022\",\n\t\t\tstate: \"todo\",\n\t\t\t//currentVictor: \"Beaufort\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_EVENT_PENDING_BG,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"Intermediate & Senior House Hockey\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Monday 21st & Wednesday 23rd March 2022\",\n\t\t\tstate: \"todo\",\n\t\t\t//currentVictor: \"Beaufort\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_EVENT_PENDING_BG,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"Senior 7s House Rugby\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Wednesday 30th March 2022\",\n\t\t\tstate: \"todo\",\n\t\t\t//currentVictor: \"Beaufort\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_EVENT_PENDING_BG,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Table Tennis (all years)\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Monday 4th April - Wednesday 6th April 2022\",\n\t\t\tstate: \"todo\",\n\t\t\t//currentVictor: \"Beaufort\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_EVENT_PENDING_BG,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Music\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Tuesday 5th April 2022\",\n\t\t\tstate: \"todo\",\n\t\t\t//currentVictor: \"Beaufort\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_EVENT_PENDING_BG,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\ttitle: \"Year 11 & 13 December Mocks\",\n\t\t\theaderURL: \"/events/School-Logo.png\",\n\t\t\t//description: \"The chance to give your questions to Mr Bowen - check your email for how to submit them!\",\n\t\t\tdescription: \"Year 11 & 13 contingency assessments - check your emails for the official details.\",\n\t\t\twhen: \"Monday 6th - Friday 17th December\",\n\t\t\tbackgroundColor: \"#752023\",\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\ttitle: \"Prize Giving\",\n\t\t\theaderURL: \"/events/School-Logo.png\",\n\t\t\tdescription: \"A celebration of students' achievements, with a chance to reflect on the past academic year\",\n\t\t\twhen: \"Friday 3rd December\",\n\t\t\tbackgroundColor: \"#752023\",\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Quiz\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Intermediate competition starts Tuesday 15th March 2022\",\n\t\t\tstate: \"ongoing\",\n\t\t\tcurrentVictor: \"Beaufort\",\n\t\t\tdescription: \"Beaufort win House Quiz for the seniors - but will runner-up Seymour speed past them in the lower years?\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_BEAUFORT,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Rugby\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"started Monday 4th October 2021\",\n\t\t\tstate: \"ongoing\",\n\t\t\tcurrentVictor: \"Howard\",\n\t\t\tdescription: \"IsItWeekA understands, with just the Seniors left to play, Howard has the lead with Seymour second and Tudor & Beaufort tied for 4th (as of 01/12/21)\",\n\t\t\t// Tud: 9\n\t\t\t// Beau: 5\n\t\t\t// How: 5\n\t\t\t// Sey: 5\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_HOWARD,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Cross Country\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"standards w/c 15th November 2021, final Thursday 2nd December\",\n\t\t\tstate: \"done\",\n\t\t\tcurrentVictor: \"Howard\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\tbackgroundColor: HOUSE_HOWARD,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Badminton - Seniors & Juniors\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Wednesday 1st December 2021\",\n\t\t\tstate: \"done\",\n\t\t\tcurrentVictor: \"Howard\",\n\t\t\tdescription: \"Howard wins House Badminton, after blitzing past the other houses in the Seniors section.\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_HOWARD,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Football\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"w/c 27th September\",\n\t\t\tstate: \"ongoing\",\n\t\t\tcurrentVictor: \"Howard\",\n\t\t\tdescription: \"Howard wins Senior Football - but will they win overall?\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_HOWARD,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\ttitle: \"Head's Hotseat\",\n\t\t\theaderURL: \"/events/School-Logo.png\",\n\t\t\t//description: \"The chance to give your questions to Mr Bowen - check your email for how to submit them!\",\n\t\t\tdescription: \"The chance to give your questions to Mr Bowen!\",\n\t\t\twhen: \"TBC\",\n\t\t\tbackgroundColor: \"#752023\",\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\ttitle: \"Year 7, 10 and 12 Photographs\",\n\t\t\theaderURL: \"/events/School-Logo.png\",\n\t\t\tdescription: \"The all-important school photographs.\",\n\t\t\twhen: \"Wednesday 8th September 2021\",\n\t\t\tbackgroundColor: \"#752023\",\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\ttitle: \"Online Open Evening\",\n\t\t\theaderURL: \"/events/School-Logo.png\",\n\t\t\tdescription: \"Open evening - in an online format. There will be a half-day for filming on Thursday 30th September\",\n\t\t\t//when: \"Half-day for filming on 30th September\",\n\t\t\tbackgroundColor: \"#752023\",\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\ttitle: \"Teacher Training Day\",\n\t\t\theaderURL: \"/events/School-Logo.png\",\n\t\t\tdescription: \"A day off school for pupils.\",\n\t\t\twhen: \"Friday 1st October 2021\",\n\t\t\tbackgroundColor: \"#752023\",\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Basketball\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"w/c 13th December 2021\",\n\t\t\tstate: \"todo\",\n\t\t\t//currentVictor: \"Beaufort\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_EVENT_PENDING_BG,\n\t\t},\n\t],\n};\n\nexport const KECHGEvents: EventData = {\n\tevents: [\n\t\t{\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\ttitle: \"Macmillan Coffee Morning\",\n\t\t\twhen: \"Friday 1st October\",\n\t\t\tbackgroundColor: \"#f7f7f7\",\n\t\t\ttextColour: \"#00754F\",\n\t\t\theaderURL: \"/events/Macmillan_Cancer_Support.svg\",\n\t\t\turl: \"https://coffee.macmillan.org.uk\",\n\t\t\tcta: {\n\t\t\t\tcolor: \"#fff\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\tbackgroundColor: \"#00754F\", // Possible A/B Test\n\t\t\t\ttext: \"more info\",\n\t\t\t},\n\t\t\tticketsSale: {\n\t\t\t\tstart: \"01/10/21\"\n\t\t\t},\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\ttitle: \"Teacher Training Day\",\n\t\t\theaderURL: \"/events/School-Logo.png\",\n\t\t\tdescription: \"A day off school for pupils.\",\n\t\t\twhen: \"Tuesday 4th January 2022\",\n\t\t\tbackgroundColor: \"#752023\",\n\t\t\thidden: false,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\ttitle: \"Songs from the Shows (Show Choir)\",\n\t\t\theaderURL: \"/events/School-Logo.png\",\n\t\t\tdescription: \"A performance of songs from the musicals \\\"Matilda\\\" and \\\"Chicago\\\" by ~100 students, along with acting and dance!\",\n\t\t\twhen: \"15th & 16th February\",\n\t\t\tbackgroundColor: \"#752023\",\n\t\t\thidden: false,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\ttitle: \"Year 13 December Mocks\",\n\t\t\theaderURL: \"/events/School-Logo.png\",\n\t\t\t//description: \"The chance to give your questions to Mr Bowen - check your email for how to submit them!\",\n\t\t\tdescription: \"Year 13 mock exams.\",\n\t\t\twhen: \"Monday 6th - Friday 17th December\",\n\t\t\tbackgroundColor: \"#752023\",\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"Year 13 House Dance\",\n\t\t\theaderURL: \"/events/KECHGTMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Wednesday 20th October 2021\",\n\t\t\tstate: \"done\",\n\t\t\tcurrentVictor: \"Lichfield\",\n\t\t\tdescription: \"Lichfield wins the Year 13 House Dance competition, where all houses choreographed a dance to 'Kiss You' by One Direction.\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: \"#F8F9F4\",\n\t\t\ttextColour: \"#E70420\"\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"Year 12 Christmas Quiz\",\n\t\t\theaderURL: \"/events/KECHGTMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Wednesday 15th December 2021\",\n\t\t\tstate: \"done\",\n\t\t\tcurrentVictor: \"Stratford\",\n\t\t\tdescription: \"Stratford wins the Year 12 House Christmas Quiz, gaining 100 house points, whilst Lichfield places 2nd and Priory 3rd.\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\ttextColour: \"#6690B3\",\n\t\t\tbackgroundColor: \"#F8F9F4\",\n\t\t\t//textColour: \"#000\"\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Fair\",\n\t\t\theaderURL: \"/events/KECHGTMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Friday 1st April 2022\",\n\t\t\tstate: \"todo\",\n\t\t\t//currentVictor: \"Stratford\",\n\t\t\tdescription: \"The House Fair.\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: HOUSE_EVENT_PENDING_BG\n\t\t},\n\t],\n\tgeneratedAt: \"0\",\n};\n\n/** KECHB Events from 2021 */\n/**\n * Events from 2021\n */\nexport const KECHB2021Events: EventData = {\n\tevents: [\n\t\t{\n\t\t\ttitle: \"Would I Lie To You?\",\n\t\t\tdescription: \"Come here teachers tell their embarrassing stories!\",\n\t\t\turl: \"https://www.eventbrite.co.uk/e/would-i-lie-to-you-students-vs-teachers-tickets-133890123965?aff=isitweeka\",\n\t\t\tticketsSale: {\n\t\t\t\tstart: \"01/01/2020\"\n\t\t\t},\n\t\t\theaderURL: \"/events/WILTY_Logo.png\",\n\t\t\tbackgroundColor: \"#2C1F39\",\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\ttitle: \"LockdownRuns4Charity\",\n\t\t\tdescription: \"A group of students aiming to run 1000km.\",\n\t\t\turl: \"https://www.gofundme.com/f/khsjye-lockdownruns4charity\",\n\t\t\theaderURL: \"https://youngminds.org.uk/assets/logos/youngminds-logo.svg\",\n\t\t\tbackgroundColor: \"#ffffff\",\n\t\t\teventType: EventTypes.FUNDRIASER,\n\t\t\ttarget: \"2000\",\n\t\t\ttextColour: \"#000000\",\n\t\t\tcta: {\n\t\t\t\tcolor: \"#fff\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\t//backgroundColor: \"#0091EA\", // Possible A/B Test\n\t\t\t},\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"Sports Day\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Wednesday 14th July\",\n\t\t\tstate: \"done\",\n\t\t\tcurrentVictor: \"Howard\",\n\t\t\tdescription: \"Sports Day - the final event of the house calendar!\",\n\t\t\t//backgroundColor: \"#5E957C\",\n\t\t\tbackgroundColor: \"#4286BB\",\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.CHARITY,\n\t\t\ttitle: \"CHAOS\",\n\t\t\theaderURL: \"/events/School-Logo.png\",\n\t\t\tticketsSale: {\n\t\t\t\tstart: \"01/01/2020\"\n\t\t\t},\n\t\t\tdescription: \"Countdown to CHAOS: the Camp Hill Amateur Operatic Society.  Little else is known at the moment.\",\n\t\t\twhen: \"Monday 19th July 2021\",\n\t\t\tbackgroundColor: \"#752023\",\n\t\t\thidden: true,\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Cross-Country\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Autumn 2020\",\n\t\t\tstate: \"done\",\n\t\t\tcurrentVictor: \"Seymour\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\tbackgroundColor: \"#e8ae56\",\n\t\t},\n\t\t{\n\t\t\teventType: EventTypes.HOUSE,\n\t\t\ttitle: \"House Touch Rugby\",\n\t\t\theaderURL: \"/events/TMPHouseChampionshipDefault.jpg\",\n\t\t\tdateTime: \"Autumn 2020\",\n\t\t\tstate: \"done\",\n\t\t\tcurrentVictor: \"Beaufort\",\n\t\t\t//description: \"House Touch Rugby\",\n\t\t\t//backgroundColor: \"#752023\", // House default, or #5E957C\n\t\t\tbackgroundColor: \"#CC4545\",\n\t\t}\n\t],\n\tgeneratedAt: \"0\"\n};\n","/**\n * Footer\n */\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Button from \"./Button.Forward\";\nimport { faGithub, faInstagram, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { faEnvelope, faAt, faLink } from \"@fortawesome/free-solid-svg-icons\";\nimport Socials from \"./Socials\";\nimport { version } from \"../../package.json\";\n\nconst Footer: React.FC = () => {\n\treturn (\n\t\t<div className=\"footer\">\n\t\t\t<a id=\"feedback-buttom\" target=\"__blank\" href=\"https://forms.gle/KaS2VUAmZqfS1Nf26\"><Button>give feedback</Button></a>\n\n\t\t\t<p>\n\t\t\t\t{ /* Data Protection comment out: Created by Kishan Sambhi &amp; Madeline Hart. <br /> */ }\n\t\t\t\t&#169; {(new Date()).getFullYear()}, source available on GitHub under the MIT license.<br /><br />\n\t\t\t\tData controller information: data controlled by {/*Kishan Sambhi, */}a KECH pupil {/*}, */}and will only ever be viewed by KECH pupils.<br />\n\t\t\t\tAll changes to this site are reviewed, merged and deployed by a KECH pupil.<br /><br />\n\t\t\t\tVersion {version}\n\t\t\t</p>\n\n\t\t\t<Socials />\n\n\t\t\t<div className=\"outbound-links\">\n\t\t\t\t<a target=\"__blank\" href=\"https://github.com/Gum-Joe/isitweeka\">\n\t\t\t\t\t<FontAwesomeIcon icon={faGithub} />&nbsp;\n\t\t\t\t\t<u>GitHub</u>\n\t\t\t\t</a>\n\t\t\t\t<a target=\"__blank\" href=\"https://github.com/Gum-Joe/isitweeka/issues\">\n\t\t\t\t\t<u>Feature Tracker</u>\n\t\t\t\t</a>\n\t\t\t\t<a target=\"__blank\" href=\"mailto:info@isitweeka.com\">\n\t\t\t\t\t<FontAwesomeIcon icon={faEnvelope} />&nbsp;\n\t\t\t\t\t<u>Email us</u>\n\t\t\t\t</a>\n\t\t\t\t<a target=\"__blank\" href=\"/privacy.html\"><u>Privacy Policy</u></a>\n\t\t\t</div>\n\n\t\t\t{ // For data protection purposes, we've had to comment this out \n\t\t\t/*<div className=\"container-credits\">\n\t\t\t\t<div>\n\t\t\t\t\t<h4>Find Kishan here:</h4>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<a target=\"__blank\" href=\"https://github.com/Gum-Joe\"><li><FontAwesomeIcon icon={faGithub} /> GitHub</li></a>\n\t\t\t\t\t\t<a target=\"__blank\" href=\"https://twitter.com/k_sam_mighty\"><li><FontAwesomeIcon icon={faTwitter} /> Twitter</li></a>\n\t\t\t\t\t\t<a target=\"__blank\" href=\"https://instagram.com/k_sam_mighty\"><li><FontAwesomeIcon icon={faInstagram} /> Instagram</li></a>*/\n\t\t\t\t\t\t/*{*//* NOTE: Change to a personal e-mail when leaving school *//*}*/\n\t\t\t\t\t\t/*<a target=\"__blank\" href=\"mailto:15Sambhi614@camphillboys.bham.sch.uk\"><li><FontAwesomeIcon icon={faEnvelope} /> Email</li></a>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<h4>Find Madeline here:</h4>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<a target=\"__blank\" href=\"https://github.com/ILikeTeaALot\"><li><FontAwesomeIcon icon={faGithub} /> GitHub</li></a>\n\t\t\t\t\t\t<a target=\"__blank\" href=\"https://www.rykan.net\"><li><FontAwesomeIcon icon={faLink} /> rykan.net</li></a>\n\t\t\t\t\t\t<a target=\"__blank\" href=\"mailto:madeline@rykan.net\"><li><FontAwesomeIcon icon={faAt} /> Email</li></a>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div> */ }\n\n\t\t</div>\n\t);\n};\n\nexport default Footer;\n","import { AlertResponce, ThreatLevels } from \"../utils/AlertInterfaces\";\n\n/*export const KECHBAlerts: AlertResponce = {\n\tshowAlert: true,\n\t//message: \"BREAKING: Student Council Chair Adeen Irfan has resigned, triggering an election.\",\n\t// alertLevel: ThreatLevels.CRITICAL,\n\tmessage: \"Welcome to IsItWeekA - it's currently in beta & will be fully launched first week back. Make sure to follow our socials!\",\n\talertLevel: ThreatLevels.INFO,\n};*/\n\nexport const KECHBAlerts: AlertResponce = {\n\tshowAlert: true,\n\t//message: \"BREAKING: Student Council Chair Adeen Irfan has resigned, triggering an election.\",\n\t// alertLevel: ThreatLevels.CRITICAL,\n\t//message: \"Welcome to IsItWeekA! We'll use these banners for important alerts in the future.\",\n\talertLevel: ThreatLevels.INFO,\n\tmessage: \"\\\"Oliver!\\\" to be the next Camp Hill Musical\",\n\tlinkText: \"more info\",\n\tlinkTo: \"https://www.instagram.com/p/CYcI989LXwh\"\n};\n\nexport const KECHGAlerts: AlertResponce = {\n\tshowAlert: true,\n\t//message: \"BREAKING: Student Council Chair Adeen Irfan has resigned, triggering an election.\",\n\t// alertLevel: ThreatLevels.CRITICAL,\n\tmessage: \"\\\"Oliver!\\\" to be the next KECHB Musical - hopefully with KECHG as well\",\n\talertLevel: ThreatLevels.INFO,\n\tlinkText: \"more info\",\n\tlinkTo: \"https://www.instagram.com/p/CYcI989LXwh\"\n};\n","import React, { Component } from \"react\";\nimport gaSetState from \"./utils/gAnalytics\";\n//import \"./App.css\";\nimport \"./scss/index.scss\";\nimport CookieConsent from \"react-cookie-consent\";\nimport SiteContainer from \"./components/SiteContainer\";\nimport { TabContainer } from \"./components/Tabs\";\nimport { Navbar } from \"react-bootstrap\";\nimport Cookies from \"js-cookie\";\nimport { COOKIE_SCHOOL_PREFERENCE } from \"./utils/constants\";\nimport { KECHBEvents, KECHGEvents } from \"./data/events-mock\";\nimport Footer from \"./components/Footer\";\nimport { KECHBAlerts, KECHGAlerts } from \"./data/alerts\";\n\n/*function App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.tsx</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}*/\n\nclass App extends Component<Record<string, never>> {\n\n\tconstructor(props: Record<string, never>) {\n\t\tsuper(props);\n\t}\n\n\t/**\n\t * Provided to TabContainer to update the cookie with whichever school the user has clicked\n\t * @param tab Tab name (so school name) from tabs list\n\t * @param index Tab index\n\t */\n\tupdateCookie(tab: string, index: number) {\n\t\t// ONLY set cookie if opt in set.\n\t\tif (Cookies.get(\"CookieConsent\") === \"true\") {\n\t\t\tCookies.set(COOKIE_SCHOOL_PREFERENCE, {\n\t\t\t\tschool: tab,\n\t\t\t\ttabIndex: index,\n\t\t\t}, {\n\t\t\t\tsecure: true,\n\t\t\t\tsameSite: \"strict\",\n\t\t\t});\n\n\t\t\t// Log this\n\t\t\tif (typeof gtag !== \"undefined\") {\n\t\t\t\tconsole.log(\"Setting to \" + tab);\n\t\t\t\tgtag(\"set\", \"user_properties\", {\n\t\t\t\t\tschool: tab\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\n\t\t\t\t<TabContainer tabs={[\n\t\t\t\t\t{\n\t\t\t\t\t\ttab: \"KECHB\",\n\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t<SiteContainer\n\t\t\t\t\t\t\t\tcalendarURL=\"/cal/KECHB/basic.ics\"\n\t\t\t\t\t\t\t\tweekMarkerDate={1}\n\t\t\t\t\t\t\t\teventsFetcher={\n\t\t\t\t\t\t\t\t\tasync () => KECHBEvents\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\talertsFetcher={\n\t\t\t\t\t\t\t\t\tasync () => KECHBAlerts\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttab: \"KECHG\",\n\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t<SiteContainer\n\t\t\t\t\t\t\t\tcalendarURL=\"/cal/KECHG/basic.ics\"\n\t\t\t\t\t\t\t\tweekMarkerDate={0}\n\t\t\t\t\t\t\t\teventsFetcher={\n\t\t\t\t\t\t\t\t\tasync () => KECHGEvents\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\talertsFetcher={\n\t\t\t\t\t\t\t\t\tasync () => KECHGAlerts\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t]} onTabChange={this.updateCookie} initialTab={(() => Cookies.getJSON(COOKIE_SCHOOL_PREFERENCE)?.tabIndex || 0)()}/>\n\n\t\t\t\t<Footer />\n\n\t\t\t\t{/* Cookie consent */}\n\t\t\t\t<Navbar fixed=\"bottom\">\n\t\t\t\t\t<CookieConsent\n\t\t\t\t\t\tenableDeclineButton\n\t\t\t\t\t\tflipButtons\n\t\t\t\t\t\tbuttonText=\"I understand\"\n\t\t\t\t\t\tdeclineButtonText=\"No thanks\"\n\t\t\t\t\t\tonAccept={\n\t\t\t\t\t\t\t() => { gaSetState(false); window.location.reload(); }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonDecline={\n\t\t\t\t\t\t\t() => { gaSetState(true); window.location.reload(); }\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\tThis website uses cookies for preferences and analytics (via Google Analytics).\n\t\t\t\t\t\t<a href={process.env.PUBLIC_URL + \"/privacy.html\"}> View Privacy Policy</a>\n\t\t\t\t\t</CookieConsent>\n\t\t\t\t</Navbar>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry);\n\t\t\tgetFID(onPerfEntry);\n\t\t\tgetFCP(onPerfEntry);\n\t\t\tgetLCP(onPerfEntry);\n\t\t\tgetTTFB(onPerfEntry);\n\t\t});\n\t}\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n//import \"./scss/index.scss\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}